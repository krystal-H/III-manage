(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1364:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(209),n(92),n(165),n(248);var r=function(e){var t=(e+"").split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(t[1]?"."+t[1]:"")}},1368:function(e,t,n){"use strict";n(19),n(39),n(40),n(120),n(29),n(30),n(32),n(45),n(46),n(50),n(36),n(23),n(51),n(33),n(34),n(31),n(35),n(73);var r=n(20),a=n(42),o=n(0),c=n.n(o),i=(n(75),n(788),n(433)),l=n(3),u=!1,s=!1,f=function(){return function(e){u||s||(s=!0,l.b.Post("env/provincialCascade/province",{parentId:1}).then((function(t){var n,r=t.data.data;u=!0,e((n=r,{type:i.b,list:n}))})).finally((function(){s=!1})))}},p=function(e,t){return function(n){var r;t&&void 0!==t[e]||(r={provinceId:e},l.b.Post("env/provincialCascade/city",r)).then((function(t){var r=t.data.data;n(function(e){var t=e.provinceId,n=e.list;return{type:i.a,provinceId:t,list:n}}({provinceId:e,list:r}))}))}},m=(n(289),n(67),n(189),n(190),n(74));function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,a,o=(t=i,function(){var e,n=j(t);if(S()){var r=j(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return w(this,e)});function i(){var e;E(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).normalOption=[{id:"",value:"全部"+(e.props.normalOptionText||"")}],e.getPopupContainer=function(e){return e.parentNode},e.handleChange=function(t,n){var r,a,o=e.props.onChange;try{r=n.props.children,a=n.props["data-data"]}catch(e){r=n}o&&o(t,r,a)},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=(e.normalOptionText,e.list),n=e.onlyList,r=e.noTitle,a=e.showSearch,o=e.notFoundContent,i=e.optionFilterProp,l=e.dropdownMatchSelectWidth,u=e.disabled,s=e.width,f=e.style,p=(e.onChange,e.value),y=g(e,["normalOptionText","list","onlyList","noTitle","showSearch","notFoundContent","optionFilterProp","dropdownMatchSelectWidth","disabled","width","style","onChange","value"]),b=t&&t.length>0?t:[],v={width:"100%"},E=0===b.length;return b=n?b:this.normalOption.concat(b),s&&(v=h({},v,{},{width:s+"px"})),f&&(v=h({},v,{},f)),c.a.createElement(m.a,d({disabled:u||!1,showSearch:!1!==a,getPopupContainer:this.getPopupContainer,dropdownMatchSelectWidth:l||!1,style:v,notFoundContent:o||"未找到相应记录",optionFilterProp:i||"children",loading:E,onChange:this.handleChange,value:p},y),b.map((function(e){var t=e.id,n=e.value;return c.a.createElement(m.a.Option,{value:t,key:t,"data-data":e,title:r?void 0:n},n)})))}}])&&O(n.prototype,r),a&&O(n,a),i}(o.PureComponent);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(l,e);var t,n,r,a,i=(t=l,function(){var e,n=L(t);if(T()){var r=L(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return N(this,e)});function l(){var e;R(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).sty1={width:"130px",marginRight:"6px"},e.normalOption=[{id:"",value:"全国"}],e.normalOption2=[{id:"",value:"全部"}],e.state={province:"",provinceName:"",city:"",cityName:""},e.setValue=function(t){e.setState(t)},e.getValue=function(){return C({},e.state)},e.setProvince=function(t,n){var r=e.props,a=r.getCityList,o=r.cityMap;e.setState({province:t,provinceName:""===t?"":n,city:"",cityName:""},e.onChange),"number"==typeof t&&a(t,o)},e.setCity=function(t,n){e.setState({city:t,cityName:""===t?"":n},e.onChange)},e.onChange=function(){var t=e.props.onChange;t&&t(C({},e.state))},e}return n=l,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.getProvinceList,n=e.setValue,r=e.getValue;t(),n&&n()(this.setValue),r&&r()(this.getValue)}},{key:"render",value:function(){var e=this.state,t=e.province,n=e.city,r=this.props,a=r.provinceList,i=r.cityMap,l=r.disabled,u=r.width,s=r.style,f=void 0===s?{}:s,p=this.normalOption.concat(a),m=t&&i[t]?this.normalOption2.concat(i[t]):this.normalOption2,y=u?C({},this.sty1,{},{width:u+"px"},{},f):this.sty1;return c.a.createElement(o.Fragment,null,c.a.createElement(I,{list:p,loading:1===p.length,placeholder:"选择省份",notFoundContent:"未找到符合的省份",style:y,onlyList:!0,onChange:this.setProvince,value:t,disabled:l}),t?c.a.createElement(I,{list:m,loading:1===m.length,placeholder:"选择城市",notFoundContent:"未找到符合的城市",style:y,onlyList:!0,onChange:this.setCity,value:n,disabled:l}):null)}}])&&x(n.prototype,r),a&&x(n,a),l}(o.Component),M=Object(a.connect)((function(e){var t=e.get("visualization");return{provinceList:t.provinceList,cityMap:t.cityMap}}),(function(e){return{getProvinceList:function(){return e(f())},getCityList:function(t,n){return e(p(t,n))}}}))(F);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(u,e);var t,n,a,i,l=(t=u,function(){var e,n=W(t);if(H()){var r=W(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return B(this,e)});function u(){var e;J(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l.call.apply(l,[this].concat(n))).state={timeType:e.props.timeList[0].id},e.changeTimeType=function(t){e.setState({timeType:t})},e.getRegionValue=function(){return{province:"",city:""}},e._getRegionValue=function(){return function(t){e.getRegionValue=t}},e.setRegionValue=function(){},e._setRegionValue=function(){return function(t){e.setRegionValue=t}},e.onSearch=function(){var t=e.props,n=t.noRegion,r=void 0!==n&&n,a=t.onSearch,o=U({},e.state);if(r)a(o);else{var c=e.getRegionValue();a(U({},o,{provinceId:c.province,cityId:c.city}))}},e.clear=function(){var t=e.props.noRegion;void 0!==t&&t||e.setRegionValue({province:"",provinceName:"",city:"",cityName:""}),e.setState({timeType:"1"})},e}return n=u,(a=[{key:"render",value:function(){var e=this.props,t=e.noRegion,n=void 0!==t&&t,a=e.timeList,i=e.loading,l=void 0!==i&&i,u=this.state.timeType,s=l;return c.a.createElement("div",null,c.a.createElement("span",null,"时间："),c.a.createElement(I,{width:130,onlyList:!0,list:a,showSearch:!1,onChange:this.changeTimeType,value:u}),n?null:c.a.createElement(o.Fragment,null,c.a.createElement("span",{className:"page-ml"},"地域："),c.a.createElement(M,{setValue:this._setRegionValue,getValue:this._getRegionValue})),c.a.createElement(r.a,{className:"page-ml",type:"primary",icon:"search",onClick:this.onSearch,loading:s},"搜索"),c.a.createElement(r.a,{className:"page-ml",onClick:this.clear},"重置"))}}])&&z(n.prototype,a),i&&z(n,i),u}(o.Component);t.a=Object(a.connect)((function(e){return{timeList:e.get("visualization").timeList}}))($)},1370:function(e,t,n){"use strict";n(23),n(75);var r=n(38),a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,1413))}));t.a=a},1371:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(67),n(246);var r=["#1890FF","#4da7fd","#ef7b0a","#ffb637","#8ed824","#3ab752","#21dfeb","#2493f1","#4a59f1","#c167ef","#ee53a7","#d82b2b","#bcddff"];function a(e){if(!e||0===e.length)return null;var t=e.length,n=t-1,a=Math.min(10,t),o=Math.min(9,n);return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},color:r,grid:{top:40,bottom:60,right:20},legend:{show:!1},toolbox:{show:!1},xAxis:[{type:"category",boundaryGap:!0,data:e.map((function(e){return e.name}))}],yAxis:{type:"value",scale:!0,min:0},dataZoom:[{type:"slider",show:!0,bottom:0,minSpan:a,maxSpan:a,zoomLock:!0,startValue:0,endValue:o},{type:"inside",minSpan:a,maxSpan:a,zoomOnMouseWheel:!1,startValue:0,endValue:o}],series:[{name:"",type:"bar",barMaxWidth:24,data:e.map((function(e){return e.count}))}]}}},1376:function(e,t,n){},1389:function(e,t,n){},1390:function(e,t,n){},1391:function(e,t,n){},1392:function(e,t,n){},1393:function(e,t,n){},1394:function(e,t,n){},1395:function(e,t,n){},1396:function(e,t,n){},1397:function(e,t,n){},1398:function(e,t,n){},1399:function(e,t,n){},1400:function(e,t,n){},1401:function(e,t,n){},1402:function(e,t,n){},1403:function(e,t,n){},1418:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return at}));n(19),n(39),n(40),n(32),n(50),n(23),n(51),n(33),n(34),n(35);var r=n(0),a=n.n(r),o=n(42),c=(n(29),n(30),n(45),n(46),n(36),n(31),n(118)),i=n(3);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={user:{timeType:"1"},application:{timeType:"1"},device:{timeType:"1"}},p=function(){return{type:c.h}},m=function(){return{type:c.k}},y=function(e){return{type:c.j,tabData:e}},d=function(){return{type:c.b}},b=function(){return{type:c.e}},h=function(e,t){var n,r;n=f[t],r=e,Object.keys(r).forEach((function(e){var t,a=r[e],o=!(null==(t=a)||""===t);!o&&e in n?delete n[e]:o&&(n[e]=a)}))},v=function(){return function(e){e({type:c.i}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.b.Post("collection/statsUser/getCollect",e)}().then((function(t){var n,r=t.data,a=r.data,o=r.code;e(0===o?(n=a,{type:c.g,headData:n}):p())})).catch((function(t){e(p())}))}},g=function(){return function(e){e({type:c.l});var t,n=+new Date;(t=u({},f.user),i.b.Post("collection/statsUser/getStatsUserWeb",t)).then((function(t){var r=t.data,a=r.data;if(0===r.code){var o=+new Date-n;o<1500?setTimeout((function(){e(y(a))}),3e3-o):e(y(a))}else e(m())})).catch((function(){e(m())}))}},E=function(){return function(e){var t;e({type:c.c}),(t=u({},f.application),i.b.Post("collection/statsUser/getStatsUserApp",t)).then((function(t){var n,r=t.data,a=r.data,o=r.code;e(0===o?(n=a,{type:c.a,tabData:n}):d())})).catch((function(t){e(d())}))}},O=function(){return function(e){var t;e({type:c.f}),(t=u({},f.device),i.b.Post("collection/statsUser/getStatsDevice",t)).then((function(t){var n,r=t.data,a=r.data,o=r.code;e(0===o?(n=a,{type:c.d,tabData:n}):b())})).catch((function(t){e(b())}))}},w=(n(120),n(93),n(37)),S=(n(441),n(168)),j=(n(442),n(108)),P=(n(1337),n(1339)),I=(n(809),n(18)),D=(n(73),n(20)),k=(n(164),n(7)),C=n(1364);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=L(t);if(T()){var r=L(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return N(this,e)});function l(){var e;R(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).smallSty={padding:0},e.loadingSty={fontSize:"16px",color:"#1890ff"},e.title=a.a.createElement(r.Fragment,null,a.a.createElement(k.a,{type:"clock-circle",theme:"twoTone"}),a.a.createElement("span",{className:"page-ml"},"昨日")),e.title2=a.a.createElement(r.Fragment,null,a.a.createElement(k.a,{type:"database",theme:"twoTone"}),a.a.createElement("span",{className:"page-ml"},"前七天")),e.loadingCom=a.a.createElement(k.a,{type:"sync",spin:!0,style:e.loadingSty}),e.getValueNode=function(t,n,r){return r?a.a.createElement(I.b,{autoInsertSpaceInButton:!1},a.a.createElement(D.a,{type:"link",onClick:e.tryAgain,size:"small",style:e.smallSty},"重试")):n?null:Object(C.a)(t)},e.tryAgain=function(){e.props.tryAgain()},e}return n=l,(o=[{key:"render",value:function(){var e=this.title,t=this.title2,n=this.loadingCom,r=this.getValueNode,o=this.props,c=o.isLoading,i=o.isError,l=o.data,u=l.day1Count,s=l.day7Count;return a.a.createElement(S.a,{gutter:16},a.a.createElement(j.a,{span:12},a.a.createElement(P.a,{title:e,prefix:c?n:null,value:u,formatter:function(e){return r(e,c,i)}})),a.a.createElement(j.a,{span:12},a.a.createElement(P.a,{title:t,value:s,prefix:c?n:null,formatter:function(e){return r(e,c,i)}})))}}])&&x(n.prototype,o),c&&x(n,c),l}(r.Component);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=J(t);if(K()){var r=J(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return U(this,e)});function i(){var e;V(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.getHeadData()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.headData,n=t.isLoading,r=t.isError,o=t.data,c=o.addDeviceCollect,i=o.activeDeviceCollect,l=o.errorDeviceCollect;return a.a.createElement("div",{className:"page-analysis-head"},a.a.createElement(w.a,{className:"page-analysis-col",title:"新增设备数（汇总）"},a.a.createElement(F,{isLoading:n,isError:r,data:c,tryAgain:e}),a.a.createElement("span",{className:"page-analysis-col-msg"},"备注：产品下新创建的设备统计")),a.a.createElement(w.a,{className:"page-analysis-col",title:"激活设备数（汇总）"},a.a.createElement(F,{isLoading:n,isError:r,data:i,tryAgain:e}),a.a.createElement("span",{className:"page-analysis-col-msg"},"备注：联网绑定的设备统计")),a.a.createElement(w.a,{className:"page-analysis-col",title:"故障设备数（汇总）"},a.a.createElement(F,{isLoading:n,isError:r,data:l,tryAgain:e})))}}])&&q(n.prototype,r),o&&q(n,o),i}(r.Component),H=Object(o.connect)((function(e){return{headData:e.get("visualization").applicationAnalysis.headData}}),(function(e){return{getHeadData:function(){return e(v())}}}))(B),W=(n(288),n(112)),Y=(n(807),n(451)),$=n(1368),G=(n(787),n(67),n(209),n(246),n(291),n(210)),Z=(n(290),n(167)),Q=n(1370),X=n(1371);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=oe(t);if(ae()){var r=oe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return re(this,e)});function i(){var e;te(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.tryAgain()},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.title,r=e.isLoading,o=e.isError,c=t.slice(0,10),i=10-c.length;return i>0&&(c=c.concat(new Array(i).fill({name:"",count:""}))),o?a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(Z.a,{className:"page-null-inner",status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(D.a,{type:"primary",onClick:this.tryAgain},"重 试")})):r||0!==t.length?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-left"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"TOP10web站点名称"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},n)),c.map((function(e,t){var n=e.name,o=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):Object(C.a)(o)))})))),a.a.createElement("div",{className:"page-analysis-con-right"},a.a.createElement(Q.a,{className:"page-analysis-echarts",option:Object(X.a)(t)}))):a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(G.a,{className:"page-null-inner"}))}}])&&ne(n.prototype,r),o&&ne(n,o),i}(r.Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=me(t);if(pe()){var r=me(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return fe(this,e)});function i(){var e;ue(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).onSearch=function(t){var n=e.props,r=n.changeSearchData,a=n.getTabDataForUser;r(t,"user"),a()},e.tryAgain=function(){e.props.getTabDataForUser()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.user,n=t.isLoading,r=t.isError,o=t.data,c=o.register,i=o.accessCount,l=o.userLogin,u=o.userAccess,s=0===c.length&&0===i.length&&0===l.length&&0===u.length,f=a.a.createElement(Y.a,{className:"page-visualization-alert",message:"备注：访问用户数是通过访问IP去重统计的。",type:"info",showIcon:!0}),p=a.a.createElement(Y.a,{className:"page-visualization-alert",message:"备注：访问次数是通过页面接口请求统计（剔除图片请求，JS，CSS请求）。",type:"info",showIcon:!0});return a.a.createElement(w.a,null,a.a.createElement("h2",{className:"page-title"},"站点数据"),a.a.createElement($.a,{onSearch:this.onSearch,loading:n}),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(W.a,{tabBarGutter:10,animated:!r&&!s},a.a.createElement(W.a.TabPane,{tab:"注册用户数",key:"1"},a.a.createElement(ie,{title:"注册用户数",isLoading:n,isError:r,list:c,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"登录用户数",key:"2"},a.a.createElement(ie,{title:"登录用户数",isLoading:n,isError:r,list:l,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"访问用户数",key:"3"},f,a.a.createElement(ie,{title:"访问用户数",isLoading:n,isError:r,list:u,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"访问次数",key:"4"},p,a.a.createElement(ie,{title:"访问次数",isLoading:n,isError:r,list:i,tryAgain:e}))))}}])&&se(n.prototype,r),o&&se(n,o),i}(r.Component),be=Object(o.connect)((function(e){return{user:e.get("visualization").applicationAnalysis.user}}),(function(e){return{getTabDataForUser:function(){return e(g())},changeSearchData:h}}))(de);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=we(t);if(Oe()){var r=we(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ee(this,e)});function i(){var e;ve(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.tryAgain()},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.title,r=e.isLoading,o=e.isError,c=t.slice(0,10),i=10-c.length;return i>0&&(c=c.concat(new Array(i).fill({name:"",count:""}))),o?a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(Z.a,{className:"page-null-inner",status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(D.a,{type:"primary",onClick:this.tryAgain},"重 试")})):r||0!==t.length?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-left"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"TOP10应用"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},n)),c.map((function(e,t){var n=e.name,o=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):Object(C.a)(o)))})))),a.a.createElement("div",{className:"page-analysis-con-right"},a.a.createElement(Q.a,{className:"page-analysis-echarts",option:Object(X.a)(t)}))):a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(G.a,{className:"page-null-inner"}))}}])&&ge(n.prototype,r),o&&ge(n,o),i}(r.Component);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=_e(t);if(Ce()){var r=_e(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ke(this,e)});function i(){var e;Ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).onSearch=function(t){var n=e.props,r=n.changeSearchData,a=n.getTabDataForApplication;r(t,"application"),a()},e.tryAgain=function(){e.props.getTabDataForApplication()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.application,n=t.isLoading,r=t.isError,o=t.data,c=o.userRegister,i=o.userLogin,l=o.userStart,u=o.userActive,s=0===c.length&&0===i.length&&0===l.length&&0===u.length;return a.a.createElement(w.a,null,a.a.createElement("h2",{className:"page-title"},"应用数据"),a.a.createElement($.a,{onSearch:this.onSearch,loading:n}),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(W.a,{tabBarGutter:10,animated:!r&&!s},a.a.createElement(W.a.TabPane,{tab:"启动次数",key:"1"},a.a.createElement(je,{title:"启动次数",isLoading:n,isError:r,list:l,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"登录用户数",key:"2"},a.a.createElement(je,{title:"登录用户数",isLoading:n,isError:r,list:i,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"注册用户数",key:"3"},a.a.createElement(je,{title:"注册用户数",isLoading:n,isError:r,list:c,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"活跃用户数",key:"4"},a.a.createElement(je,{title:"活跃用户数",isLoading:n,isError:r,list:u,tryAgain:e}))))}}])&&De(n.prototype,r),o&&De(n,o),i}(r.Component),Ne=Object(o.connect)((function(e){return{application:e.get("visualization").applicationAnalysis.application}}),(function(e){return{getTabDataForApplication:function(){return e(E())},changeSearchData:h}}))(xe);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=Ve(t);if(Me()){var r=Ve(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Fe(this,e)});function i(){var e;Le(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).loadingSty={fontSize:"16px",color:"#1890ff"},e.loadingCom=a.a.createElement(k.a,{type:"sync",spin:!0,style:e.loadingSty}),e.tryAgain=function(){e.props.tryAgain()},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.title,r=e.isLoading,o=e.isError,c=t.slice(0,10),i=10-c.length;return i>0&&(c=c.concat(new Array(i).fill({name:"",count:""}))),o?a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(Z.a,{className:"page-null-inner",status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(D.a,{type:"primary",onClick:this.tryAgain},"重 试")})):"创建产品数"===n?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-left"},a.a.createElement(w.a,{className:"page-analysis-col"},a.a.createElement(P.a,{title:n,prefix:r?this.loadingCom:null,value:c[0]&&c[0].count||0,formatter:function(e){return r?null:e}}))),a.a.createElement("div",{className:"page-analysis-con-right"})):r||0!==t.length?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-left"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"TOP10产品名称"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},n)),c.map((function(e,t){var n=e.name,o=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):Object(C.a)(o)))})))),a.a.createElement("div",{className:"page-analysis-con-right"},a.a.createElement(Q.a,{className:"page-analysis-echarts",option:Object(X.a)(t)}))):a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(G.a,{className:"page-null-inner"}))}}])&&Ae(n.prototype,r),o&&Ae(n,o),i}(r.Component);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=We(t);if(He()){var r=We(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Be(this,e)});function i(){var e;Je(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).onSearch=function(t){var n=e.props,r=n.changeSearchData,a=n.getTabDataForDevice;r(t,"device"),a()},e.tryAgain=function(){e.props.getTabDataForDevice()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.device,n=t.isLoading,r=t.isError,o=t.data,c=o.product,i=o.addDevice,l=o.activeDevice,u=o.onlineDevice,s=o.errorDevice,f=0===c.length&&0===i.length&&0===l.length&&0===u.length&&0===s.length,p=a.a.createElement(Y.a,{className:"page-visualization-alert",message:"备注：此数据暂不支持查看地域维度。",type:"info",showIcon:!0});return a.a.createElement(w.a,null,a.a.createElement("h2",{className:"page-title"},"产品/设备数据"),a.a.createElement($.a,{onSearch:this.onSearch,loading:n}),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(W.a,{tabBarGutter:10,animated:!r&&!f},a.a.createElement(W.a.TabPane,{tab:"创建产品数",key:"1"},p,a.a.createElement(Ue,{title:"创建产品数",isLoading:n,isError:r,list:c,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"新增设备数",key:"2"},p,a.a.createElement(Ue,{title:"新增设备数",isLoading:n,isError:r,list:i,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"激活设备数",key:"3"},p,a.a.createElement(Ue,{title:"激活设备数",isLoading:n,isError:r,list:l,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"在线数据数(仅WIFI)",key:"4"},a.a.createElement(Ue,{title:"在线数据数(仅WIFI)",isLoading:n,isError:r,list:u,tryAgain:e})),a.a.createElement(W.a.TabPane,{tab:"故障设备数",key:"5"},a.a.createElement(Ue,{title:"故障设备数",isLoading:n,isError:r,list:s,tryAgain:e}))))}}])&&ze(n.prototype,r),o&&ze(n,o),i}(r.Component),Ge=Object(o.connect)((function(e){return{device:e.get("visualization").applicationAnalysis.device}}),(function(e){return{getTabDataForDevice:function(){return e(O())},changeSearchData:h}}))($e);n(1402);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=tt(t);if(et()){var r=tt(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Xe(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).hSty={height:"36px"},e.init(),t}return n=l,(o=[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(H,null),a.a.createElement("div",{className:"page-interval",style:this.hSty}),a.a.createElement(be,null),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(Ne,null),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(Ge,null),a.a.createElement("div",{className:"page-interval"}))}}])&&Qe(n.prototype,o),c&&Qe(n,c),l}(r.Component),at=Object(o.connect)(void 0,(function(e){return{init:function(){return e((f={user:{timeType:"1"},application:{timeType:"1"},device:{timeType:"1"}},function(e){e(v()),e(g()),e(E()),e(O())}))}}}))(rt)},1419:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ke}));n(19),n(39),n(40),n(32),n(50),n(23),n(51),n(33),n(34),n(35);var r=n(0),a=n.n(r),o=n(42),c=(n(29),n(30),n(45),n(46),n(36),n(31),n(149)),i=n(3);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={server:{timeType:"1"},message:{timeType:"1"}},p=function(){return{type:c.b}},m=function(){return{type:c.h}},y=function(e){return{type:c.g,tabData:e}},d=function(){return{type:c.e}},b=function(e,t){var n,r;n=f[t],r=e,Object.keys(r).forEach((function(e){var t,a=r[e],o=!(null==(t=a)||""===t);!o&&e in n?delete n[e]:o&&(n[e]=a)}))},h=function(){return function(e){e({type:c.c}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.b.Post("collection/messageData/getCollect",e)}().then((function(t){var n,r=t.data,a=r.data,o=r.code;e(0===o?(n=a,{type:c.a,headData:n}):p())})).catch((function(t){e(p())}))}},v=function(){return function(e){e({type:c.i});var t,n=+new Date;(t=u({},f.server),i.b.Post("collection/messageData/getStatsRequest",t)).then((function(t){var r=t.data,a=r.data;if(0===r.code){var o=+new Date-n;o<1500?setTimeout((function(){e(y(a))}),1500-o):e(y(a))}else e(m())})).catch((function(){e(m())}))}},g=function(){return function(e){var t;e({type:c.f}),(t=u({},f.message),i.b.Post("collection/messageData/getStatsDevicelink",t)).then((function(t){var n,r=t.data,a=r.data,o=r.code;e(0===o?(n=a,{type:c.d,tabData:n}):d())})).catch((function(t){e(d())}))}},E=(n(120),n(93),n(37)),O=(n(441),n(168)),w=(n(442),n(108)),S=(n(1337),n(1339)),j=(n(809),n(18)),P=(n(73),n(20)),I=(n(164),n(7)),D=n(1364);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=N(t);if(x()){var r=N(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R(this,e)});function l(){var e;C(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).smallSty={padding:0},e.loadingSty={fontSize:"16px",color:"#1890ff"},e.title=a.a.createElement(r.Fragment,null,a.a.createElement(I.a,{type:"clock-circle",theme:"twoTone"}),a.a.createElement("span",{className:"page-ml"},"昨日")),e.title2=a.a.createElement(r.Fragment,null,a.a.createElement(I.a,{type:"database",theme:"twoTone"}),a.a.createElement("span",{className:"page-ml"},"前七天")),e.loadingCom=a.a.createElement(I.a,{type:"sync",spin:!0,style:e.loadingSty}),e.getValueNode=function(t,n,r){return r?a.a.createElement(j.b,{autoInsertSpaceInButton:!1},a.a.createElement(P.a,{type:"link",onClick:e.tryAgain,size:"small",style:e.smallSty},"重试")):n?null:Object(D.a)(t)},e.tryAgain=function(){e.props.tryAgain()},e}return n=l,(o=[{key:"render",value:function(){var e=this.title,t=this.title2,n=this.loadingCom,r=this.getValueNode,o=this.props,c=o.isLoading,i=o.isError,l=o.suffix,u=o.data,s=u.day1Count,f=u.day7Count;return a.a.createElement(O.a,{gutter:16},a.a.createElement(w.a,{span:12},a.a.createElement(S.a,{title:e,prefix:c?n:null,value:s,formatter:function(e){return r(e,c,i)},suffix:c||i?null:l})),a.a.createElement(w.a,{span:12},a.a.createElement(S.a,{title:t,value:f,prefix:c?n:null,formatter:function(e){return r(e,c,i)},suffix:c||i?null:l})))}}])&&_(n.prototype,o),c&&_(n,c),l}(r.Component);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=U(t);if(q()){var r=U(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return V(this,e)});function i(){var e;F(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.getHeadData()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.headData,n=t.isLoading,r=t.isError,o=t.data,c=o.requertCollect,i=o.uplinkCollect,l=o.downlinkCollect;return a.a.createElement("div",{className:"page-analysis-head"},a.a.createElement(E.a,{className:"page-analysis-col",title:"请求次数（接口服务汇总）"},a.a.createElement(L,{isLoading:n,isError:r,data:c,suffix:"次",tryAgain:e})),a.a.createElement(E.a,{className:"page-analysis-col",title:"消息上行量（汇总）"},a.a.createElement(L,{isLoading:n,isError:r,data:i,suffix:"次",tryAgain:e})),a.a.createElement(E.a,{className:"page-analysis-col",title:"消息下行量（汇总）"},a.a.createElement(L,{isLoading:n,isError:r,data:l,suffix:"次",tryAgain:e})))}}])&&M(n.prototype,r),o&&M(n,o),i}(r.Component),z=Object(o.connect)((function(e){return{headData:e.get("visualization").serverAnalysis.headData}}),(function(e){return{getHeadData:function(){return e(h())}}}))(J),B=(n(807),n(451)),H=(n(288),n(112)),W=n(1368),Y=(n(787),n(67),n(209),n(246),n(1346),n(291),n(210)),$=(n(290),n(167));function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=ae(t);if(re()){var r=ae(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ne(this,e)});function i(){var e;ee(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.tryAgain()},e.toMb=function(e){return Math.max(+(e/1024/1024).toFixed(4),1e-4)},e}return n=i,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.list,r=n.app,o=n.service,c=t.isUseMB,i=t.title,l=t.isLoading,u=t.isError,s=r.slice(0,10),f=o.slice(0,10),p=10-s.length,m=10-f.length;return p>0&&(s=s.concat(new Array(p).fill({name:"",count:""}))),m>0&&(f=f.concat(new Array(m).fill({name:"",count:""}))),c&&(s=s.map((function(t){return Q({},t,{count:t.count?e.toMb(+t.count):t.count})})),f=f.map((function(t){return Q({},t,{count:t.count?e.toMb(+t.count):t.count})}))),u?a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement($.a,{className:"page-null-inner",status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(P.a,{type:"primary",onClick:this.tryAgain},"重 试")})):l||0!==r.length||0!==o.length?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-mid"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"TOP10appid"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},i)),s.map((function(e,t){var n=e.name,r=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},l?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},l?a.a.createElement("span",{className:"page-loading"}):Object(D.a)(r)))})))),a.a.createElement("div",{className:"page-analysis-con-mid"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"TOP10服务名称"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},i)),f.map((function(e,t){var n=e.name,r=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},l?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},l?a.a.createElement("span",{className:"page-loading"}):Object(D.a)(r)))}))))):a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(Y.a,{className:"page-null-inner"}))}}])&&te(n.prototype,r),o&&te(n,o),i}(r.Component);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=pe(t);if(fe()){var r=pe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return se(this,e)});function i(){var e;le(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).onSearch=function(t){var n=e.props,r=n.changeSearchData,a=n.getTabDataForServer;r(t,"server"),a()},e.tryAgain=function(){e.props.getTabDataForServer()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.server,n=t.isLoading,r=t.isError,o=t.data,c=o.appResponse,i=o.appFlow,l=o.appSucess,u=o.appRequest,s=0===c.app.length&&0===c.service.length&&0===i.app.length&&0===i.service.length&&0===l.app.length&&0===l.service.length&&0===u.app.length&&0===u.service.length;return a.a.createElement(E.a,null,a.a.createElement("h2",{className:"page-title"},"接口服务数据"),a.a.createElement(W.a,{noRegion:!0,onSearch:this.onSearch,loading:n}),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(H.a,{tabBarGutter:10,animated:!r&&!s},a.a.createElement(H.a.TabPane,{tab:"请求次数(次)",key:"1"},a.a.createElement(ce,{title:"请求次数(次)",isLoading:n,isError:r,list:u,tryAgain:e})),a.a.createElement(H.a.TabPane,{tab:"流量大小(MB)",key:"2"},a.a.createElement(ce,{title:"流量大小(MB)",isLoading:n,isError:r,list:i,isUseMB:!0,tryAgain:e})),a.a.createElement(H.a.TabPane,{tab:"成功率",key:"3"},a.a.createElement(B.a,{className:"page-visualization-alert",message:"备注：接口调用200成功占总调用的次数*100%。",type:"info",showIcon:!0}),a.a.createElement(ce,{title:"成功率(%)",isLoading:n,isError:r,list:l,tryAgain:e})),a.a.createElement(H.a.TabPane,{tab:"平均响应时间(ms)",key:"4"},a.a.createElement(B.a,{className:"page-visualization-alert",message:"备注：接口服务响应次数的响应时间总和/响应次数。",type:"info",showIcon:!0}),a.a.createElement(ce,{title:"平均响应时间(ms)",isLoading:n,isError:r,list:c,tryAgain:e}))))}}])&&ue(n.prototype,r),o&&ue(n,o),i}(r.Component),de=Object(o.connect)((function(e){return{server:e.get("visualization").serverAnalysis.server}}),(function(e){return{getTabDataForServer:function(){return e(v())},changeSearchData:b}}))(ye),be=n(1370),he=n(1371);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=Se(t);if(we()){var r=Se(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Oe(this,e)});function i(){var e;ge(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).tryAgain=function(){e.props.tryAgain()},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.title,r=e.isLoading,o=e.isError,c=t.slice(0,10),i=10-c.length;return i>0&&(c=c.concat(new Array(i).fill({name:"",count:""}))),o?a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement($.a,{className:"page-null-inner",status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(P.a,{type:"primary",onClick:this.tryAgain},"重 试")})):r||0!==t.length?a.a.createElement("div",{className:"page-analysis-con"},a.a.createElement("div",{className:"page-analysis-con-left"},a.a.createElement("div",{className:"page-analysis-list"},a.a.createElement("div",{className:"page-analysis-listItem"},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},"top10设备名称"),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},n)),c.map((function(e,t){var n=e.name,o=e.count;return a.a.createElement("div",{className:"page-analysis-listItem",key:t},a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):n),a.a.createElement("div",{className:"page-analysis-listItem-kbd"},r?a.a.createElement("span",{className:"page-loading"}):Object(D.a)(o)))})))),a.a.createElement("div",{className:"page-analysis-con-right"},a.a.createElement(be.a,{className:"page-analysis-echarts",option:Object(he.a)(t)}))):a.a.createElement("div",{className:"page-null-wrap"},a.a.createElement(Y.a,{className:"page-null-inner"}))}}])&&Ee(n.prototype,r),o&&Ee(n,o),i}(r.Component);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=Re(t);if(_e()){var r=Re(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ce(this,e)});function i(){var e;De(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).onSearch=function(t){var n=e.props,r=n.changeSearchData,a=n.getTabDataForMessage;r(t,"message"),a()},e.tryAgain=function(){e.props.getTabDataForMessage()},e}return n=i,(r=[{key:"render",value:function(){var e=this.tryAgain,t=this.props.message,n=t.isLoading,r=t.isError,o=t.data,c=o.uplink,i=o.downlink,l=0===c.length&&0===i.length;return a.a.createElement(E.a,null,a.a.createElement("h2",{className:"page-title"},"消息数据"),a.a.createElement(W.a,{noRegion:!0,onSearch:this.onSearch,loading:n}),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(H.a,{tabBarGutter:10,animated:!r&&!l},a.a.createElement(H.a.TabPane,{tab:"消息上行量",key:"1"},a.a.createElement(B.a,{className:"page-visualization-alert",message:"备注：设备TCP连接的运行数据等上行请求量。",type:"info",showIcon:!0}),a.a.createElement(Pe,{title:"请求次数(次)",isLoading:n,isError:r,list:c,tryAgain:e})),a.a.createElement(H.a.TabPane,{tab:"消息下行量",key:"2"},a.a.createElement(B.a,{className:"page-visualization-alert",message:"备注：云端对设备进行控制的下行数据。",type:"info",showIcon:!0}),a.a.createElement(Pe,{title:"请求次数(次)",isLoading:n,isError:r,list:i,tryAgain:e}))))}}])&&ke(n.prototype,r),o&&ke(n,o),i}(r.Component),Te=Object(o.connect)((function(e){return{message:e.get("visualization").serverAnalysis.message}}),(function(e){return{getTabDataForMessage:function(){return e(g())},changeSearchData:b}}))(Ne);n(1403);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=Ve(t);if(Me()){var r=Ve(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Fe(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=i.call(this,e),e.init(),t}return n=l,(o=[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(z,null),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(de,null),a.a.createElement("div",{className:"page-interval"}),a.a.createElement(Te,null),a.a.createElement("div",{className:"page-interval"}))}}])&&Ae(n.prototype,o),c&&Ae(n,c),l}(r.Component),Ke=Object(o.connect)(void 0,(function(e){return{init:function(){return e((f={server:{timeType:"1"},message:{timeType:"1"}},function(e){e(h()),e(g()),e(v())}))}}}))(Ue)},1424:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Oe}));n(19),n(39),n(40),n(32),n(50),n(23),n(51),n(33),n(34),n(35);var r=n(0),a=n.n(r),o=n(42),c=(n(93),n(37)),i=(n(29),n(30),n(45),n(46),n(36),n(92),n(165),n(31),n(334)),l=n(3),u=n(5),s=n.n(u);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="YYYY-MM-DD HH:mm:ss",y=s()("00:00:00","HH:mm:ss"),d=s()("12:00:00","HH:mm:ss"),b={},h=function(){return{type:i.a}},v=function(){return function(e){var t;e({type:i.c}),(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b),l.b.Post("manage-open/device/file/upload/pathList",t)).then((function(t){var n=t.data,r=n.code,a=n.data,o=a.list,c=a.pager;e(0===r?function(e,t){return{type:i.b,list:e,pager:t}}(o,c):h())})).catch((function(t){e(h())}))}},g=function(e){var t,n;t=b,n=e,Object.keys(n).forEach((function(e){var r,a=n[e],o=!(null==(r=a)||""===r);!o&&e in t?delete t[e]:o&&(t[e]=a)})),t.startTime&&"string"!=typeof t.startTime&&(t.startTime=t.startTime.format(m)),t.endTime&&"string"!=typeof t.endTime&&(t.endTime=t.endTime.format(m))},E=function(){var e="";Object.keys(b).forEach((function(t){e+=t+"="+b[t]+"&"})),function(e){var t=window.location.origin+l.a+"/manage-open/device/file/upload/excelExport?"+e;try{window.open(t)}catch(e){message.warn("下载失败")}}(e.replace(/&$/,""))},O=(n(120),n(73),n(20)),w=(n(1340),n(1338)),S=(n(151),n(41)),j=(n(134),n(68)),P=(n(286),n(152));function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=s()("00:00:00","HH:mm:ss"),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=T(t);if(N()){var r=T(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return x(this,e)});function i(){var e;_(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).sty={width:"193px"},e.disabledDate=function(e){return e&&e>s()().endOf("day")},e.checkStart=function(t,n,r){var a=e.props.form.getFieldValue("endTime");if(n&&a){var o=a.valueOf();n>o&&r("开始时间必须小于结束时间"),o-n.valueOf()>432e5&&r("开始时间到结束时间不能大于12小时!")}r()},e.checkEnd=function(t,n,r){var a=e.props.form.getFieldValue("startTime");if(n&&a){var o=a.valueOf();n<o&&r("结束时间必须大于开始时间"),n.valueOf()-o>432e5&&r("开始时间到结束时间不能大于12小时!")}r()},e.searchFun=function(){var t=e.props,n=t.form,r=t.changeSearchData,a=t.getList;n.validateFields().then((function(e){var t=e.startTime,n=e.endTime;!!t==!!n?(r(k({},e,{startTime:t,endTime:n,pageIndex:1})),a()):P.a.warn("请完善发布"+(t?"结束时间":"开始时间"))})).catch((function(e){P.a.warn("请根据提示完成选项")}))},e.onSearch=function(t){t.preventDefault(),e.searchFun()},e.clear=function(){e.props.form.setFieldsValue({fileName:"",startTime:y,endTime:d},e.searchFun)},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.form.getFieldDecorator,r=!!t;return a.a.createElement(S.a,{layout:"inline",onSubmit:this.onSearch},a.a.createElement(S.a.Item,{label:"MAC"},n("fileName",{rules:[{pattern:/^[0-9A-Z]{12}$/,message:"必须为12位大写字母或数字组成"}]})(a.a.createElement(j.a,{placeholder:"请输入MAC地址",maxLength:12,allowClear:!0}))),a.a.createElement(S.a.Item,{label:"发布开始时间"},n("startTime",{initialValue:y,rules:[{validator:this.checkStart}]})(a.a.createElement(w.a,{showTime:{defaultValue:A},placeholder:"选择发布开始时间",disabledDate:this.disabledDate}))),a.a.createElement(S.a.Item,{label:"发布结束时间"},n("endTime",{initialValue:d,rules:[{validator:this.checkEnd}]})(a.a.createElement(w.a,{showTime:{defaultValue:A},placeholder:"选择结束时间",disabledDate:this.disabledDate}))),a.a.createElement(S.a.Item,null,a.a.createElement(O.a,{icon:"search",type:"primary",htmlType:"submit",loading:r},"查询")),a.a.createElement(S.a.Item,null,a.a.createElement(O.a,{onClick:this.clear},"重置")))}}])&&R(n.prototype,r),o&&R(n,o),i}(r.Component),M=S.a.create({name:"equipmentDataSearch"})(F),V=Object(o.connect)((function(e,t){return{isLoading:e.get("equipmentData").isLoading}}),(function(e,t){return{changeSearchData:g,getList:function(){return e(v())}}}))(M);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(u,e);var t,n,o,i,l=(t=u,function(){var e,n=B(t);if(z()){var r=B(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return J(this,e)});function u(){return U(this,u),l.apply(this,arguments)}return n=u,(o=[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(c.a,null,a.a.createElement("h2",{className:"page-title"},"设备数据管理"),a.a.createElement(V,null)),a.a.createElement("div",{className:"page-interval"}))}}])&&K(n.prototype,o),i&&K(n,i),u}(r.Component),Y=(n(290),n(167)),$=n(103);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){if(!e)return null;var t=s()(e),n=t.add(t.utcOffset()/60,"h").format("YYYY-MM-DD HH:mm:ss");return a.a.createElement(a.a.Fragment,null,n)},ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=te(t);if(ee()){var r=te(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return X(this,e)});function i(){var e;Z(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).columns=[{title:"文件名称",dataIndex:"fileName",key:"fileName"},{title:"文件路径",dataIndex:"filePath",key:"filePath"},{title:"上传时间",dataIndex:"uploadTime",key:"uploadTime",render:function(e){return re(e)}}],e.openModal=function(t){e.props.openModal(t)},e.setPage=function(t){var n=e.props,r=n.pager.totalPages,a=n.changeSearchData,o=n.getList;t>r?P.a.warning("输入页码超过总页数！"):(a({pageIndex:t}),o())},e.tryAgain=function(){e.props.getList()},e}return n=i,(r=[{key:"render",value:function(){var e=this.props,t=e.list,n=e.pager,r=e.isLoading,o=void 0!==r&&r,c=e.isError,i=void 0!==c&&c,l=e.download;return i?a.a.createElement(Y.a,{status:"error",title:"查询失败",subTitle:"请确认网络连接是否正常.",extra:a.a.createElement(O.a,{type:"primary",onClick:this.tryAgain},"重 试")}):a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{icon:"export",type:"primary",onClick:l},"导出Excel"),a.a.createElement("div",{className:"page-interval"}),a.a.createElement($.a,{bordered:!0,columns:this.columns,dataSource:t,rowKey:"fileId",onPageChange:this.setPage,pager:n,loading:o}))}}])&&Q(n.prototype,r),o&&Q(n,o),i}(r.Component),oe=Object(o.connect)((function(e,t){var n=e.get("equipmentData");return{list:n.list,pager:n.pager,isLoading:n.isLoading,isError:n.isError}}),(function(e,t){return{changeSearchData:g,getList:function(){return e(v())},download:E}}))(ae);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(l,e);var t,n,r,o,i=(t=l,function(){var e,n=fe(t);if(se()){var r=fe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ue(this,e)});function l(){return ie(this,l),i.apply(this,arguments)}return n=l,(r=[{key:"render",value:function(){return a.a.createElement(c.a,null,a.a.createElement(oe,null))}}])&&le(n.prototype,r),o&&le(n,o),l}(r.Component);n(1399);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=ve(t);if(he()){var r=ve(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return be(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=c.call(this,e),e.init(),t}return n=i,(r=[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(W,null),a.a.createElement(me,null))}}])&&de(n.prototype,r),o&&de(n,o),i}(r.Component),Oe=Object(o.connect)(void 0,(function(e,t){return{init:function(){return e((function(e){b={pageRows:10,pageIndex:1},v()(e)}))}}}))(Ee)},1427:function(e,t,n){"use strict";n.r(t);n(92),n(247);var r,a=n(0),o=n.n(a),c=n(43),i=(n(19),n(39),n(40),n(120),n(29),n(30),n(287),n(32),n(209),n(246),n(189),n(45),n(46),n(50),n(36),n(23),n(51),n(33),n(34),n(31),n(35),n(93),n(37)),l=(n(1326),n(1327)),u=(n(1328),n(1329)),s=(n(208),n(81)),f=(n(73),n(20)),p=(n(151),n(41)),m=n(42),y=n(103),d=n(28),b=n(463);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}p.a.Item;var _=p.a.create()(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(p,e);var t,n,r,a,c=(t=p,function(){var e,n=k(t);if(D()){var r=k(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return P(this,e)});function p(){var e;S(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={visible:!1,stopID:"",query:"",pager:{totalRows:20,pageIndex:0}},e.columns=[{title:"订阅ID",dataIndex:"urlConfId",width:"100px"},{title:"订阅用户ID",dataIndex:"developerId",width:"110px"},{title:"订阅形式",dataIndex:"pushWay",render:function(t){var n=e.props.observerWay[t];return o.a.createElement("span",null,n)}},{title:"创建时间",dataIndex:"createTime",render:function(e){var t=d.b.utcToDev(e);return o.a.createElement("span",null,t)}},{title:"修改时间",dataIndex:"updateTime",render:function(e){return o.a.createElement("span",null,d.b.utcToDev(e))}},{title:"状态",dataIndex:"pushState",width:"90px",render:function(t){var n=e.props.observerPushState[t],r=1==t?{color:"#00ff00"}:{color:"#ff0000"};return o.a.createElement("span",{style:r},n)}},{title:"操作",width:"150px",render:function(t){return o.a.createElement("div",null,o.a.createElement(s.a,{placement:"top",title:"查看"},o.a.createElement(f.a,{shape:"circle",size:"small",icon:"info",key:0,onClick:e.handleDetail.bind(I(e),t.urlConfId)})),(1==t.pushState||2==t.pushState)&&o.a.createElement("span",null,o.a.createElement(u.a,{type:"vertical"}),o.a.createElement(l.a,{title:o.a.createElement("div",null,"即将停用订阅ID: ",t.urlConfId,o.a.createElement("p",null,"停用之后不可使用，确认要停用吗")),okText:"停用",okType:"danger",cancelText:"取消",placement:"topRight",onConfirm:function(){return e.handleStop(t.urlConfId)}},o.a.createElement(s.a,{placement:"top",title:"停用"},o.a.createElement(f.a,{shape:"circle",size:"small",icon:"stop",key:0})))),0==t.pushState&&o.a.createElement("span",null,o.a.createElement(u.a,{type:"vertical"}),o.a.createElement(l.a,{title:o.a.createElement("div",null,"即将启用订阅ID: ",t.urlConfId,o.a.createElement("p",null,"建议进入编辑确认是否是最新订阅内容和形式")),okText:"启用",cancelText:"取消",placement:"topRight",onConfirm:function(){return e.handleStart(t.urlConfId)}},o.a.createElement(s.a,{placement:"top",title:"启用"},o.a.createElement(f.a,{shape:"circle",size:"small",icon:"check"})))),o.a.createElement("span",null,o.a.createElement(u.a,{type:"vertical"}),o.a.createElement(s.a,{placement:"top",title:"编辑"},o.a.createElement(f.a,{shape:"circle",size:"small",icon:"edit",href:"#/businessdata/dataObserver/add/".concat(t.urlConfId)}))))}}],e.handleDetail=function(t){e.props.history.push("/businessdata/dataObserver/detail/".concat(t))},e.handlerSubmit=function(){e.props.form.validateFields((function(t,n){if(!t){var r=n.serachKey;e.setState({query:r}),console.log(r)}}))},e.handlerReset=function(){e.props.form.resetFields(),e.setState({query:""})},e.handleStop=function(t){e.props.stopObseverurlConfId(t,e.props.pager)},e.handleStart=function(t){e.props.startObseverurlConfId(t,e.props.pager)},e.pagerChange=function(t){var n=e.props.pager,r=Object.assign({},O({},n),{pageIndex:t});e.props.getList(r)},e}return n=p,(r=[{key:"componentDidMount",value:function(){this.props.cleanAddStore(),this.props.getList({pageRows:20,pageIndex:0})}},{key:"render",value:function(){this.props.form.getFieldDecorator;var e=this.props.dataObserverList;return o.a.createElement("div",null,o.a.createElement(i.a,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},o.a.createElement("div",null,o.a.createElement("h2",{className:"title"},"数据订阅")),o.a.createElement("div",null,o.a.createElement(f.a,{href:"#/businessdata/dataObserver/add/0",type:"primary"},"新建数据订阅")))),o.a.createElement(i.a,{style:{marginTop:"10px"}},o.a.createElement(y.a,{onPageChange:this.pagerChange,columns:this.columns,dataSource:v(e),pager:this.props.pager,rowKey:"urlConfId"})))}}])&&j(n.prototype,r),a&&j(n,a),p}(o.a.Component))||r,R=Object(m.connect)((function(e){var t=e.getIn(["dataObserver","observerWay"]).toJS(),n=e.getIn(["dataObserver","observerProtocolType"]).toJS(),r=e.getIn(["dataObserver","observerPushState"]).toJS(),a=e.getIn(["dataObserver","dataObserverList"])||[];return{pager:e.getIn(["dataObserver","pager"]),observerWay:t,observerProtocolType:n,dataObserverList:a,observerPushState:r}}),(function(e){return{getList:function(t){e(b.a.getObserverList(t))},stopObseverurlConfId:function(t,n){e(b.a.stopObseverurlConfId(t,n))},startObseverurlConfId:function(t,n){e(b.a.startObseverurlConfId(t,n))},cleanAddStore:function(){e(b.a.cleanObserverAddData())}}}))(_),x=(n(342),n(67),n(164),n(7)),N=(n(286),n(152)),T=(n(808),n(349)),L=(n(4),n(464),n(322)),A=(n(441),n(168)),F=(n(442),n(108)),M=(n(346),n(145)),V=(n(134),n(68));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(i,e);var t,n,r,a,c=(t=i,function(){var e,n=Y(t);if(W()){var r=Y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return H(this,e)});function i(){var e;z(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={labelKey:"",labelValue:"",pageIndex:1},e.resetAction=function(){e.setState({labelKey:"",labelValue:"",pageIndex:1},e.props.filterLabelAction())},e.filterAction=function(){var t=e.state,n={labelKey:t.labelKey,labelValue:t.labelValue,pageIndex:1};e.props.filterLabelAction(n)},e.validataForm=function(t){e.props.form.validateFieldsAndScroll((function(n,r){n||(e.props.nextStepAction(),t&&t())}))},e.filterKeyAction=function(t){var n=t.target.value;e.setState({labelKey:n})},e.filterValueAction=function(t){var n=t.target.value;e.setState({labelValue:n})},e}return n=i,(r=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"changePage",value:function(e){var t=this;this.setState({pageIndex:e},(function(){var e=t.state,n=e.labelKey,r=e.labelValue,a=e.pageIndex;t.props.filterLabelAction({labelKey:n,labelValue:r,pageIndex:a})}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n={labelCol:{span:3},wrapperCol:{span:21}},r=this.props.labelOptions,a=r.pager,c=void 0===a?{}:a,i=r.list,l=void 0===i?[]:i,u=this.state,s=u.labelKey,m=u.labelValue;return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-arround"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"30px"}},o.a.createElement(V.a,{placeholder:"请输入标签Key",style:{width:"150px",margin:"0px 20px"},value:s,onChange:this.filterKeyAction}),o.a.createElement(V.a,{placeholder:"请输入标签Value",style:{width:"150px",margin:"0px 20px"},value:m,onChange:this.filterValueAction}),o.a.createElement(f.a,{type:"primary",htmlType:"submit",style:{margin:"0px 20px"},onClick:this.filterAction},"过滤"),o.a.createElement(f.a,{type:"submit",onClick:this.resetAction},"重置")),o.a.createElement(p.a,n,o.a.createElement(p.a.Item,{label:"数据标签"},t("observerLabel",{rules:[{required:!0,message:"请选择标签"}],initialValue:[426]})(o.a.createElement(M.a.Group,{style:{width:"100%"}},o.a.createElement(A.a,null,l.map((function(e){return o.a.createElement(F.a,{xs:{span:8},key:e.labelId},o.a.createElement(M.a,{checked:!0,value:e.labelId},e.labelKey,"-",e.labelValue))}))))))),c&&c.totalRows>0&&o.a.createElement(L.a,{className:"self-pa",total:c.totalRows,current:c.pageIndex,defaultCurrent:1,defaultPageSize:50,onChange:function(t){return e.changePage(t)},showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")},showQuickJumper:!0,hideOnSinglePage:!0}))}}])&&B(n.prototype,r),a&&B(n,a),i}(o.a.Component),Z=p.a.create({name:"ObserverEditStepOne",onFieldsChange:function(e,t,n){e.onChange(t)},mapPropsToFields:function(e){var t=e.observerLabel,n=e.filterKey,r=e.filterValue;return console.log("ToFieldsobserverLabel----",t),{observerLabel:p.a.createFormField(U({},t)),filterKey:p.a.createFormField(U({},n)),filterValue:p.a.createFormField(U({},r))}}})(G);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(i,e);var t,n,r,a,c=(t=i,function(){var e,n=ce(t);if(oe()){var r=ce(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ae(this,e)});function i(){var e;ne(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).validataForm=function(){e.props.form.validateFieldsAndScroll((function(t,n){t||e.props.nextStepAction()}))},e}return n=i,(r=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:8},wrapperCol:{span:16}},n=this.props,r=n.protocolType,a=n.productList;return o.a.createElement("div",null,o.a.createElement(p.a,t,o.a.createElement(p.a.Item,{label:"标签/设备关联产品"},e("protocolList",{})(o.a.createElement(A.a,null,a.map((function(e){return o.a.createElement(F.a,{span:6,key:e.productId},o.a.createElement("span",null,e.productName))}))))),o.a.createElement(p.a.Item,{required:!0,label:"数据类型"},e("observerDataType",{rules:[{required:!0,message:"请选择数据类型"}]})(o.a.createElement(M.a.Group,null,o.a.createElement(A.a,null,r.map((function(e){return o.a.createElement(F.a,{span:8,key:e.key},o.a.createElement(M.a,{value:e.key},e.value))}))))))))}}])&&re(n.prototype,r),a&&re(n,a),i}(o.a.Component),ue=p.a.create({name:"ObserverEditStepTwo",onFieldsChange:function(e,t,n){e.onChange(t)},mapPropsToFields:function(e){var t=e.observerDataType;return{observerDataType:p.a.createFormField(X({},t))}}})(le),se=(n(443),n(169));function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(i,e);var t,n,r,a,c=(t=i,function(){var e,n=ge(t);if(ve()){var r=ge(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return he(this,e)});function i(){var e;de(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).validataForm=function(){e.props.form.validateFieldsAndScroll((function(t,n){t||e.props.onSubmit()}))},e}return n=i,(r=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"getTypeFeild",value:function(e){var t=this.props.form.getFieldDecorator,n=o.a.createElement("div",null,o.a.createElement(p.a.Item,{required:!0,label:"数据订阅URL"},t("observerHttpURL",{rules:[{required:!0,message:"填写数据订阅服务器URL"}]})(o.a.createElement(V.a,{placeholder:"填写数据订阅服务器URL",style:{width:"80%"}})),o.a.createElement("p",null,"备注：供C-Life云推送服务给第三方云推送数据,仅支持http方式。")),o.a.createElement(p.a.Item,{required:!0,label:"Token"},t("observerHttpToken",{rules:[{required:!0,message:"填写验证token"}]})(o.a.createElement(V.a,{placeholder:"填写验证token",style:{width:"80%"}})),o.a.createElement("p",null,"备注：第三方云服务接口对接C-Life云推送服务的凭证,用来验证厂商服务接口的合法性。")));return"0"===e?n:o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("a",null,"查看帮助文档"))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.observerType.value,n={labelCol:{span:4},wrapperCol:{span:20}};return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(p.a,n,o.a.createElement(p.a.Item,{required:!0,label:"请选择订阅方式"},e("observerType",{rules:[{required:!0,message:"请选择订阅方式"}]})(o.a.createElement(se.a.Group,null,o.a.createElement(se.a,{value:"0"},"选择push数据订阅"),o.a.createElement(se.a,{value:"1"},"选择MQTT主题订阅")))),this.getTypeFeild(t))))}}])&&be(n.prototype,r),a&&be(n,a),i}(o.a.Component),we=p.a.create({name:"ObserverEditStepThree",onFieldsChange:function(e,t,n){e.onChange(t)},mapPropsToFields:function(e){var t=e.observerType,n=e.observerHttpURL,r=e.observerHttpToken;return{observerType:p.a.createFormField(pe({},t)),observerHttpToken:p.a.createFormField(pe({},r)),observerHttpURL:p.a.createFormField(pe({},n))}}})(Oe),Se=n(186);n(1376);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=T.a.Step,xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(l,e);var t,n,r,a,c=(t=l,function(){var e,n=Ce(t);if(ke()){var r=Ce(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return De(this,e)});function l(){var e;Pe(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).ObserverEditStepOne=void 0,e.ObserverEditStepTwo=void 0,e.ObserverEditStepThree=void 0,e.onFeildChange=function(t){e.props.observerAddFieldChange(t)},e.filterLabelAction=function(t){e.props.getObserverLabelList(t)},e.onSubmit=function(){var t=e.props,n=t.observerLabel,r=t.observerDataType,a=t.observerType,o=t.observerHttpURL,c=t.observerHttpToken,i=n.value,l=a.value,u=r.value,s={deviceLabelIds:i.join(","),pushWay:l,devicePushDataConfList:[]};u.map((function(e){var t={dataType:e,dataTypeScope:1};s.devicePushDataConfList.push(t)})),"0"===l&&(s.url=o.value,s.pushToken=c.value);var f=e.props.match.params.id;f=parseInt(f);var p="新增成功";0!==f&&(s.urlConfId=f,p="修改成功"),Object(Se.c)(s).then((function(t){0===t.data.code&&N.a.success(p,.1,(function(){e.props.cleanStore(),e.props.history.push("/businessdata/dataObserver/list")}))}))},e.nextStepAction=function(){e.props.changeCurrent(b.b.CurrentOperation.next)},e.preStepAction=function(){e.props.changeCurrent(b.b.CurrentOperation.pre)},e.stepOneAction=function(){e.ObserverEditStepOne.validataForm((function(){var t=e.props.observerLabel.value.join(",");e.props.getObserverLabelProductList(t)}))},e.backAction=function(){e.props.cleanStore(),e.props.history.goBack()},e.stepsContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e.props,r=n.dataLabel,a=n.protocolType,c=n.productList,i=n.observerType,l=n.observerHttpURL,u=n.observerHttpToken,s=n.observerDataType,f=n.observerLabel,p=n.filterKey,m=n.filterValue,y=(n.deviceLabelIds,o.a.createElement(Z,{onRef:function(t){return e.ObserverEditStepOne=t},nextStepAction:e.nextStepAction,labelOptions:r,observerLabel:f,filterKey:p,filterValue:m,onChange:e.onFeildChange,filterLabelAction:e.filterLabelAction})),d=o.a.createElement(ue,{onRef:function(t){return e.ObserverEditStepTwo=t},nextStepAction:e.nextStepAction,protocolType:a,productList:c,observerDataType:s,onChange:e.onFeildChange}),b=o.a.createElement(we,{onRef:function(t){return e.ObserverEditStepThree=t},nextStepAction:e.nextStepAction,onSubmit:e.onSubmit,observerType:i,observerHttpURL:l,observerHttpToken:u,onChange:e.onFeildChange});switch(t){case 0:return y;case 1:return d;case 2:return b;default:return y}},e.stepsButton=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch(t){case 0:return o.a.createElement(f.a,{type:"primary",onClick:e.stepOneAction},"下一步");case 1:return o.a.createElement("div",null,o.a.createElement(f.a,{type:"primary",onClick:e.preStepAction},"上一步"),"    ",o.a.createElement(f.a,{type:"primary",onClick:function(){e.ObserverEditStepTwo.validataForm()}},"下一步"));case 2:return o.a.createElement("div",null,o.a.createElement(f.a,{type:"primary",onClick:e.preStepAction},"上一步"),"    ",o.a.createElement(f.a,{type:"primary",onClick:function(){e.ObserverEditStepThree.validataForm()}},"提交"));default:return o.a.createElement(f.a,{type:"primary",onClick:function(){e.ObserverEditStepOne.validataForm()}},"下一步")}},e}return n=l,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e=parseInt(e),this.props.getObserverLabelList(),0!=e&&this.props.getDetailData(e,!0)}},{key:"render",value:function(){var e=this.props.current,t="0"==this.props.match.params.id?"新增数据订阅":"修改数据订阅";return o.a.createElement("div",null,o.a.createElement(i.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("h2",{className:"title"},t),o.a.createElement("div",null,o.a.createElement(f.a,{onClick:this.backAction,style:{padding:"10px"},type:"link"},o.a.createElement(x.a,{type:"left"})," 返回")))),o.a.createElement(i.a,{style:{marginTop:"10px"}},o.a.createElement("div",{className:"steps-container"},o.a.createElement("div",{className:"steps-step"},o.a.createElement(T.a,{current:parseInt(e)},o.a.createElement(Re,{title:"配置订阅对象"}),o.a.createElement(Re,{title:"配置订阅内容"}),o.a.createElement(Re,{title:"配置订阅方式"}))),o.a.createElement("div",{className:"steps-content"},this.stepsContent(parseInt(e))),o.a.createElement("div",{className:"steps-action"},this.stepsButton(parseInt(e))))))}}])&&Ie(n.prototype,r),a&&Ie(n,a),l}(o.a.Component),Ne=Object(m.connect)((function(e){var t=e.getIn(["dataObserver","observerProtocolType"]).toJS(),n=e.getIn(["dataObserver","dataObserverAdd"]).toJS(),r=e.getIn(["dataObserver","dataObserverDetail"]);return console.log("---dataObserData----",n),{current:n.current,dataLabel:n.dataLabel,productList:n.productList,protocolType:t,observerType:n.observerType,observerHttpURL:n.observerHttpURL,observerHttpToken:n.observerHttpToken,observerDataType:n.observerDataType,observerLabel:n.observerLabel,filterKey:n.filterKey,filterValue:n.filterValue,deviceLabelIds:r.deviceLabelIds||""}}),(function(e){return{changeCurrent:function(t){e(b.a.observerAddChangeCurrent(t))},observerAddFieldChange:function(t){e(b.a.observerAddFieldChange(t))},getObserverLabelList:function(t){e(b.a.getLabelList(t))},getObserverLabelProductList:function(t){e(b.a.getProductList(t))},cleanStore:function(){e(b.a.cleanObserverAddData())},getDetailData:function(t,n){e(b.a.getDataObseDetailById(t,n))}}}))(xe);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue={2:"控制数据",3:"运行数据",4:"故障数据"},Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(u,e);var t,n,r,a,l=(t=u,function(){var e,n=Ve(t);if(Me()){var r=Ve(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Fe(this,e)});function u(){return Le(this,u),l.apply(this,arguments)}return n=u,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getDetailData(e)}},{key:"render",value:function(){var e=this.props,t=e.dataObserverDetail,n=e.observerWay,r=(e.observerProtocolType,e.observerPushState),a=1==t.pushState?{color:"#00ff00"}:{color:"#ff0000"},l=t.labelVoList||[],u=t.devicePushDataConfList||[];return o.a.createElement("div",null,o.a.createElement(i.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("h2",{className:"title"},"数据订阅详情"),o.a.createElement("div",null,o.a.createElement(c.Link,{to:"/businessdata/dataObserver/list",style:{padding:"10px"}},o.a.createElement(x.a,{type:"left"})," 返回")))),o.a.createElement(i.a,{className:"observerDetail-card"},o.a.createElement("div",{className:"observerDetail-content"},o.a.createElement("div",{className:"observerDetail-border"},o.a.createElement(A.a,null,o.a.createElement(F.a,{span:3},o.a.createElement("p",{className:"title"},"订阅形式"),o.a.createElement("span",{className:"content"},n[t.pushWay])),o.a.createElement(F.a,{span:2},o.a.createElement("p",{className:"title"},"状态"),o.a.createElement("span",{className:"content",style:a},r[t.pushState])),o.a.createElement(F.a,{span:4},o.a.createElement("p",{className:"title"},"创建时间"),o.a.createElement("span",{className:"content"},d.b.utcToDev(t.createTime))),o.a.createElement(F.a,{span:4},o.a.createElement("p",{className:"title"},"更新时间"),o.a.createElement("span",{className:"content"},d.b.utcToDev(t.updateTime))),o.a.createElement(F.a,{span:2},o.a.createElement("p",{className:"title"},"用户ID"),o.a.createElement("span",{className:"content"},t.developerId)),0==t.pushWay&&o.a.createElement(F.a,{span:7},o.a.createElement("p",{className:"title"},"数据订阅URL"),o.a.createElement("span",{className:"content"},t.url)),0==t.pushWay&&o.a.createElement(F.a,{span:2},o.a.createElement("p",{className:"title"},"token"),o.a.createElement("span",{className:"content"},t.pushToken)))),o.a.createElement("div",{className:"observerDetail-border"},o.a.createElement("p",{className:"title"},"订阅对象"),o.a.createElement(A.a,null,l.map((function(e){return o.a.createElement(F.a,{span:8,key:e.labelId},o.a.createElement("span",null,e.labelValue,"-",e.labelKey))})))),o.a.createElement("div",{className:"observerDetail-border"},o.a.createElement("p",{className:"title"},"订阅内容"),o.a.createElement("div",{className:"observerContent"},o.a.createElement(A.a,null,u.map((function(e){return o.a.createElement(F.a,{span:8,key:e.dataConfId},o.a.createElement("div",{style:{overflowWrap:"break-word",padding:"5px"}},o.a.createElement("p",null,e.dataType?Ue[e.dataType]:""),o.a.createElement("p",null,e.protocolProperty)))})))))),2==t.pushState&&o.a.createElement("div",{style:{marginTop:"16px"}},o.a.createElement("i",null,"注：该数据订阅失败次数过多，订阅已锁定，请重新编辑或者直接停用此订阅。")),o.a.createElement("div",{style:{textAlign:"right",marginTop:"20px"}},o.a.createElement(f.a,{type:"primary",href:"#/businessdata/dataObserver/add/"+t.urlConfId},"编辑"))))}}])&&Ae(n.prototype,r),a&&Ae(n,a),u}(o.a.Component),Je=Object(m.connect)((function(e){return{observerWay:e.getIn(["dataObserver","observerWay"]).toJS(),observerProtocolType:e.getIn(["dataObserver","observerProtocolType"]).toJS(),observerPushState:e.getIn(["dataObserver","observerPushState"]).toJS(),dataObserverDetail:e.getIn(["dataObserver","dataObserverDetail"])}}),(function(e){return{getDetailData:function(t){e(b.a.getDataObseDetailById(t))}}}))(Ke),ze=n(465);t.default=function(e){var t=e.match;return o.a.createElement(c.Switch,null,o.a.createElement(ze.a,{exact:!0,path:"".concat(t.url,"/list"),component:R}),o.a.createElement(ze.a,{exact:!0,path:"".concat(t.url,"/add/:id"),component:Ne}),o.a.createElement(ze.a,{exact:!0,path:"".concat(t.url,"/detail/:id"),component:Je}),o.a.createElement(c.Redirect,{from:"".concat(t.url),to:"".concat(t.url,"/list")}))}},1428:function(e,t,n){"use strict";n.r(t);n(92),n(247);var r=n(0),a=n.n(r),o=n(43),c=(n(19),n(39),n(40),n(120),n(32),n(50),n(23),n(51),n(33),n(34),n(165),n(35),n(73),n(20)),i=(n(134),n(68)),l=(n(208),n(81)),u=(n(164),n(7)),s=(n(151),n(41)),f=(n(190),n(74)),p=n(42),m=n(1361),y=n(103),d=n(28),b=n(448),h=n(1362);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=f.a.Option,I=s.a.Item,D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(b,e);var t,n,r,o,p=(t=b,function(){var e,n=S(t);if(w()){var r=S(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O(this,e)});function b(){var e;g(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=p.call.apply(p,[this].concat(n))).state={param:"",type:1,query:{}},e.handleEdit=function(t){e.props.history.push("./".concat(t))},e}return n=b,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.accountList,r=t.pager,o=t.form,p=t.loading,b=[{title:"账号ID",dataIndex:"developerId",width:"15%"},{title:"手机号码",dataIndex:"phone",width:"20%"},{title:"邮箱",dataIndex:"email",width:"25%"},{title:"注册时间",dataIndex:"createTime",width:"20%",className:"th-break",render:function(e){var t=e?d.b.utc2beijing(e,"yyyy-MM-dd hh:mm:ss"):"--";return a.a.createElement("span",null,t)}},{title:"操作",render:function(t){return a.a.createElement("div",{className:"action"},a.a.createElement(l.a,{placement:"top",title:"查看"},a.a.createElement(u.a,{type:"info-circle",onClick:e.handleEdit.bind(e,t.developerId)})))}}],h=o.getFieldDecorator;return a.a.createElement("div",{className:"account-manage"},a.a.createElement(m.a,{title:"用户管理"},a.a.createElement(s.a,{layout:"inline"},a.a.createElement(I,null,h("type",{initialValue:1,getValueFromEvent:function(t){var n=e.props.form.getFieldValue("param");return n?(1===t||2===t?e.props.form.setFieldsValue({param:n.replace(/[^\d]/g,"")}):3===t&&e.props.form.setFieldsValue({param:n.replace(/[^\w@._]/g,"")}),t):t}})(a.a.createElement(f.a,{style:{width:160}},a.a.createElement(P,{value:1,key:"1"},"账号ID"),a.a.createElement(P,{value:2,key:"2"},"手机号码"),a.a.createElement(P,{value:3,key:"3"},"电子邮件")))),a.a.createElement(I,null,h("param",{getValueFromEvent:function(t){var n=e.props.form.getFieldValue("type");return 1===n||2===n?t.target.value.replace(/[^\d]/g,""):3===n?t.target.value.replace(/[^\w@._]/g,""):void 0}})(a.a.createElement(i.a,{style:{width:240},onPressEnter:this.props.onFilter}))),a.a.createElement(I,null,a.a.createElement(c.a,{className:"modelSearch",type:"primary",onClick:this.props.onFilter},"查询")),a.a.createElement(I,null,a.a.createElement(c.a,{className:"modelSearch",type:"primary",onClick:this.props.onReset},"重置")))),a.a.createElement("div",{className:"account-content"},a.a.createElement(y.a,{rowKey:"developerId",columns:b,dataSource:n,pager:r,loading:p,onPageChange:this.props.onChange})))}}])&&E(n.prototype,r),o&&E(n,o),b}(a.a.Component),k=Object(p.connect)((function(e){return{accountList:e.getIn(["accountManage","accountList"]).toJS(),pager:e.getIn(["accountManage","pager"]).toJS(),loading:e.getIn(["accountManage","loading"])}}),(function(e){return{getList:function(t){return e(b.a.getList(t))}}}))(s.a.create()(Object(h.a)(D))),C=(n(293),n(288),n(112));n(246);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=[{name:"--",color:"#333"},{name:"正常",color:"#0099cc"},{name:"停用",color:"#ff0000"}],M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=L(t);if(T()){var r=L(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return N(this,e)});function i(){var e;R(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={loading:!1},e.onChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e.props.match.params.id;e.setState({loading:!0}),e.props.getSubAccountList({pageIndex:t,id:n}).then((function(){e.setState({loading:!1})}))},e}return n=i,(r=[{key:"componentDidMount",value:function(){this.onChange()}},{key:"render",value:function(){var e=this.state.loading,t=this.props,n=t.list,r=t.pager,o=[{title:"用户名",dataIndex:"userName",width:"20%"},{title:"备注",dataIndex:"remark",width:"20%"},{title:"用户角色",dataIndex:"roleName",width:"20%"},{title:"用户状态",dataIndex:"status",width:"100px",render:function(e){var t=1===e?F[1]:F[2];return a.a.createElement("span",{style:{color:t.color}},t.name)}},{title:"最新修改时间",dataIndex:"modifyTime",width:"150px",render:function(e){var t=d.b.utc2beijing(e,"yyyy-MM-dd hh:mm:ss");return a.a.createElement("span",null,t)}}];return a.a.createElement(y.a,{rowKey:"userId",columns:o,dataSource:n,loading:e,onPageChange:this.onChange,pager:r})}}])&&x(n.prototype,r),o&&x(n,o),i}(a.a.Component),V=Object(p.connect)((function(e){return{list:e.getIn(["accountManage","subAccountList"]).toJS(),pager:e.getIn(["accountManage","subAccountPager"]).toJS()}}),(function(e){return{getSubAccountList:function(t){return e(b.a.getSubAccountList(t))}}}))(Object(o.withRouter)(M));function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W,Y={0:"开发中",1:"已发布",2:"审核中"},$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=B(t);if(z()){var r=B(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return J(this,e)});function i(){var e;U(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={loading:!1},e.onChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e.props.match.params.id;e.setState({loading:!0}),e.props.getProductList({pageIndex:t,id:n}).then((function(){e.setState({loading:!1})}))},e}return n=i,(r=[{key:"componentDidMount",value:function(){this.onChange()}},{key:"render",value:function(){var e=this.state.loading,t=this.props,n=t.list,r=t.pager,o=[{title:"产品ID",dataIndex:"productId",width:"200px"},{title:"产品名称",dataIndex:"productName",width:"20%"},{title:"所属分类",dataIndex:"productType",width:"30%"},{title:"状态",dataIndex:"mode",width:"10%",render:function(e){return a.a.createElement("span",null,Y[e])}},{title:"创建时间",dataIndex:"createTime",width:"200px",render:function(e){var t=d.b.utc2beijing(e,"yyyy-MM-dd hh:mm:ss");return a.a.createElement("span",null,t)}}];return a.a.createElement(y.a,{rowKey:"productId",columns:o,dataSource:n,pager:r,loading:e,onPageChange:this.onChange})}}])&&K(n.prototype,r),o&&K(n,o),i}(a.a.Component),G=Object(p.connect)((function(e){return{list:e.getIn(["accountManage","productList"]).toJS(),pager:e.getIn(["accountManage","productPager"]).toJS()}}),(function(e){return{getProductList:function(t){return e(b.a.getProductList(t))}}}))(Object(o.withRouter)($)),Z=(n(189),n(245),n(121));function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=s.a.Item,ie=s.a.create()(W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(l,e);var t,n,r,o,c=(t=l,function(){var e,n=ae(t);if(re()){var r=ae(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ne(this,e)});function l(){var e;ee(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).handleCheck=function(t,n,r){e.props.form.getFieldValue("password")!==n&&r("两次密码输入不一致"),r()},e.handleOk=function(){e.props.form.validateFields((function(t,n){t||e.props.onOk(n)}))},e.handleCancel=function(){var t=e.props,n=t.form,r=t.onCancel;n.resetFields(),r()},e}return n=l,(r=[{key:"render",value:function(){var e=this.props,t=e.form,n=e.visible,r=t.getFieldDecorator,o={labelCol:{span:6},wrapperCol:{span:14}};return a.a.createElement(Z.a,{width:600,visible:n,title:"重置密码",onCancel:this.handleCancel,onOk:this.handleOk},a.a.createElement(s.a,null,a.a.createElement(ce,X({label:"新密码"},o),r("password",{rules:[{required:!0,message:"以字母开头的6到18个字母或数字或下划线"},{pattern:/^[a-zA-Z]\w{5,17}$/,message:"以字母开头的6到18个字母或数字或下划线"}]})(a.a.createElement(i.a.Password,{maxLength:18,placeholder:"以字母开头的6到18个字母或数字或下划线"}))),a.a.createElement(ce,X({label:"确认密码"},o),r("confirmPw",{rules:[{required:!0,message:"请确认新密码"},{validator:this.handleCheck}]})(a.a.createElement(i.a.Password,{maxLength:18,placeholder:"请确认新密码",onPressEnter:this.handleOk})))))}}])&&te(n.prototype,r),o&&te(n,o),l}(a.a.Component))||W;function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=C.a.TabPane,be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(l,e);var t,n,r,o,i=(t=l,function(){var e,n=me(t);if(pe()){var r=me(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return fe(this,e)});function l(){var e;ue(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={isEdit:!1,visible:!1},e.handleTrigger=function(){var t=e.state.isEdit;e.setState({isEdit:!t})},e.handleEdit=function(){var t=e.props.match.params.id;e.props.history.push("./edit/".concat(t))},e.handleBack=function(){e.props.history.go(-1)},e.handleResetPwd=function(t){e.setState({visible:!0})},e.handleResetCancel=function(){e.setState({visible:!1},(function(){e.form.props.form.resetFields()}))},e.handleResetSave=function(t){var n=t.password,r=e.props.match.params.id;e.props.resetPwd({password:n,id:r}).then((function(t){t&&e.handleResetCancel()}))},e}return n=l,(r=[{key:"componentDidMount",value:function(){this.props.province.length||this.props.getProvince();var e=this.props.match.params.id;this.props.getAccountDetail(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEdit,r=t.visible,o=this.props,i=o.accountDetail,l=o.province,s=i.id,f=i.email,p=i.mobilePhone,y=i.createTime,d=(i.contactAddr,i.contactPerson),b=i.contactPhone,h=l.find((function(e){return e.value===i.province}))||{},v=h.children?h.children.find((function(e){return e.value===+i.city})):{},g="".concat(h.label||i.province||"","-").concat(v&&v.label?v.label:i.city||"");return a.a.createElement("div",{className:"account-manage"},a.a.createElement(m.a,{title:"用户详情"},a.a.createElement(c.a,{type:"primary",className:"btn-back",onClick:this.handleBack},"返回")),a.a.createElement("div",{className:"account-info-wrap"},a.a.createElement("div",{className:"account-content info"},a.a.createElement("div",{className:"account-info ".concat(n?"active":"")},a.a.createElement("div",{className:"account-info-detail "},a.a.createElement("h2",null,"基本资料"),a.a.createElement("div",{className:"account-info-grid"},a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"账号ID："),s),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"电子邮箱："),f),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"手机号码："),p),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"注册时间："),y),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"密码："),"******",a.a.createElement("span",{className:"reset",onClick:this.handleResetPwd},"重置"))),a.a.createElement("h2",null,"联系信息"),a.a.createElement("div",{className:"account-info-grid"},a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"国家："),"中国"),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"所在地区："),g),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"联系人："),d),a.a.createElement("p",null,a.a.createElement("span",{className:"label"},"联系电话："),b||""))),a.a.createElement("span",{className:"slide-up",onClick:this.handleTrigger},a.a.createElement(u.a,{type:n?"up":"down"}),n?"收起":"展开"),a.a.createElement("span",{className:"edit",onClick:this.handleEdit},a.a.createElement(u.a,{type:"edit"}),"编辑"))),a.a.createElement("div",{className:"account-content sub"},a.a.createElement(C.a,{defaultActiveKey:"1"},a.a.createElement(de,{tab:"子账号",key:"1"},a.a.createElement(V,null)),a.a.createElement(de,{tab:"产品信息",key:"2"},a.a.createElement(G,null))))),a.a.createElement(ie,{visible:r,onCancel:this.handleResetCancel,onOk:this.handleResetSave,wrappedComponentRef:function(t){return e.form=t}}))}}])&&se(n.prototype,r),o&&se(n,o),l}(a.a.Component),he=Object(p.connect)((function(e){return{accountDetail:e.getIn(["accountManage","accountDetail"]).toJS(),province:e.getIn(["accountManage","province"]).toJS()}}),(function(e){return{getAccountDetail:function(t){return e(b.a.getAccountDetail(t))},resetPwd:function(t){return e(b.a.resetPwd(t))},getProvince:function(){return e(b.a.getProvince())}}}))(be),ve=(n(29),n(30),n(287),n(209),n(45),n(46),n(36),n(31),n(806),n(454));function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=s.a.Item,Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(u,e);var t,n,r,o,l=(t=u,function(){var e,n=_e(t);if(Ce()){var r=_e(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ke(this,e)});function u(){var e;Ie(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l.call.apply(l,[this].concat(n))).handleBack=function(){e.props.history.go(-1)},e.handleSave=function(){var t=e.props.form.getFieldsValue(),n=e.props.match.params.id,r=je(t.provinceCity||[],2),a=r[0],o=r[1];delete t.provinceCity,e.props.updateAccount(we({developerId:n},t,{province:a,city:o})).then((function(t){t&&e.props.history.push("/businessdata/accountManage/".concat(n))}))},e.loadData=function(t){var n=t[t.length-1];e.props.getCityByProvinceId(n.value)},e}return n=u,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.accountDetail,n=e.province,r=this.props.match.params.id;n.length||this.props.getProvince(),t.id||this.props.getAccountDetail(r)}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:10,offset:1}},t=this.props,n=t.form,r=t.accountDetail,o=t.province,l=n.getFieldDecorator;return a.a.createElement("div",{className:"account-manage"},a.a.createElement(m.a,{title:"编辑用户详情"},a.a.createElement(c.a,{type:"primary",className:"btn-back",onClick:this.handleBack},"返回")),a.a.createElement("div",{className:"account-content"},a.a.createElement(s.a,{style:{width:800,paddingBottom:50}},a.a.createElement(xe,null,a.a.createElement("h2",null,"基本信息")),a.a.createElement(xe,Ee({label:"账号ID"},e),a.a.createElement("span",null,r.id||"")),a.a.createElement(xe,Ee({label:"手机号码"},e),l("mobilePhone")(a.a.createElement(i.a,{placeholder:"请输入手机号码",maxLength:11}))),a.a.createElement(xe,Ee({label:"电子邮箱"},e),l("email")(a.a.createElement(i.a,{placeholder:"请输入电子邮箱",maxLength:30}))),a.a.createElement(xe,Ee({label:"注册时间"},e),a.a.createElement("span",null,r.createTime||"")),a.a.createElement(xe,null,a.a.createElement("h2",null,"联系信息")),a.a.createElement(xe,Ee({label:"国家"},e),a.a.createElement(i.a,{disabled:!0,value:"中国"})),a.a.createElement(xe,Ee({label:"所在地区"},e),l("provinceCity")(a.a.createElement(ve.a,{options:o,placeholder:"请选择所在地区",loadData:this.loadData,onChange:this.handleChange,changeOnSelect:!0}))),a.a.createElement(xe,Ee({label:"联系地址"},e),l("contactAddr")(a.a.createElement(i.a,{placeholder:"请输入联系地址",maxLength:60}))),a.a.createElement(xe,Ee({label:"联系人"},e),l("contactPerson")(a.a.createElement(i.a,{placeholder:"请输入联系人",maxLength:20}))),a.a.createElement(xe,Ee({label:"联系电话"},e),l("contactPhone")(a.a.createElement(i.a,{placeholder:"请输入联系电话",maxLength:20}))),a.a.createElement(xe,{style:{textAlign:"center"}},a.a.createElement(c.a,{type:"primary",className:"btn-ok",onClick:this.handleSave},"确定"),a.a.createElement(c.a,{type:"default",className:"btn-cancel",onClick:this.handleBack},"取消")))))}}])&&De(n.prototype,r),o&&De(n,o),u}(a.a.Component),Te=Object(p.connect)((function(e){return{accountDetail:e.getIn(["accountManage","accountDetail"]).toJS(),province:e.getIn(["accountManage","province"]).toJS(),city:e.getIn(["accountManage","city"]).toJS()}}),(function(e){return{getAccountDetail:function(t){return e(b.a.getAccountDetail(t))},getProvince:function(){return e(b.a.getProvince())},getCityByProvinceId:function(t){return e(b.a.getCityByProvinceId(t))},updateAccount:function(t){return e(b.a.updateAccount(t))},modifyAccount:function(t){return e(b.a.modifyAccount(t))}}}))(s.a.create({mapPropsToFields:function(e){return e.accountDetail?{mobilePhone:s.a.createFormField({value:e.accountDetail.mobilePhone}),email:s.a.createFormField({value:e.accountDetail.email}),contactAddr:s.a.createFormField({value:e.accountDetail.contactAddr}),contactPerson:s.a.createFormField({value:e.accountDetail.contactPerson}),contactPhone:s.a.createFormField({value:e.accountDetail.contactPhone}),provinceCity:s.a.createFormField({value:[+e.accountDetail.province,+e.accountDetail.city]})}:{}},onFieldsChange:function(e,t,n){for(var r in t)if("provinceCity"!==r)e.modifyAccount(Se({},r,t[r].value));else{var a=je(t[r].value,2),o=a[0],c=a[1];e.modifyAccount({province:o,city:c})}}})(Object(o.withRouter)(Ne)));n(1392),t.default=function(e){var t=e.match;return a.a.createElement(o.Switch,null,a.a.createElement(o.Route,{exact:!0,path:"".concat(t.url,"/list"),component:k}),a.a.createElement(o.Route,{exact:!0,path:"".concat(t.url,"/edit/:id"),component:Te}),a.a.createElement(o.Route,{exact:!0,path:"".concat(t.url,"/:id"),component:he}),a.a.createElement(o.Redirect,{from:"".concat(t.url,"/"),to:"".concat(t.url,"/list")}))}},1429:function(e,t,n){"use strict";n.r(t);n(92),n(247);var r=n(0),a=n.n(r),o=n(43),c=(n(19),n(39),n(40),n(120),n(32),n(67),n(50),n(23),n(51),n(33),n(34),n(35),n(93),n(37)),i=(n(134),n(68)),l=(n(190),n(74)),u=(n(245),n(121)),s=(n(138),n(49)),f=(n(208),n(81)),p=(n(73),n(20)),m=(n(151),n(41)),y=n(42),d=n(452),b=n(103),h=n(1361),v=n(1362);n(1393);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=[{id:1,text:"设备id"},{id:2,text:"物理地址"},{id:3,text:"设备分类"}],k=m.a.Item,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(d,e);var t,n,r,o,y=(t=d,function(){var e,n=P(t);if(j()){var r=P(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return w(this,e)});function d(){var e;E(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=y.call.apply(y,[this].concat(n))).state={type:null,param:null,labelKey:null,labelValue:null,loading:!1,query:{}},e.column=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId",width:"140px"},{title:"物理地址",dataIndex:"deviceMac",key:"deviceMac",width:"140px"},{title:"产品",dataIndex:"productName",key:"productName",width:"20%"},{title:"所属分类",dataIndex:"productType",key:"productType",width:"30%"},{title:"类型",dataIndex:"productClass",key:"productClass",render:function(e){return a.a.createElement("span",null,0==e||1==e?"普通设备":"--")},width:"12%"},{title:"操作",dataIndex:"deviceId",key:"operation",width:"12%",render:function(t,n){return a.a.createElement("span",null,a.a.createElement(f.a,{placement:"top",title:"查看"},a.a.createElement(p.a,{shape:"circle",size:"small",icon:"info",key:0,onClick:e.handleDetail.bind(S(e),t)})),"  |  ",a.a.createElement(f.a,{placement:"top",title:"删除"},a.a.createElement(p.a,{shape:"circle",size:"small",icon:"delete",key:0,onClick:e.delete.bind(S(e),n.deviceUniqueId)})))}}],e.handleDetail=function(t){e.props.history.push("./".concat(t))},e.notification=function(e,t){s.a.open({message:e||"提示",description:t||""})},e.onFilter=function(t){t.preventDefault();var n=e.props.form;n.deviceVersionTypeList;(0,n.validateFieldsAndScroll)((function(t,n){var r=n.type,a=n.param,o=n.labelKey,c=n.labelValue;return!r&&a?(e.notification("","请选择查询条件！"),!1):!o&&c?(e.notification("","请输入key值！"),!1):void e.props.onFilter()}))},e.delete=function(t){var n=S(e),r=n.state.pageIndex||1;r=n.props.pager.totalRows%(10*(r-1))>1?r:r-1,u.a.confirm({title:"提示",content:"删除设备后，将会同步删除设备绑定信息是否确认删除？",onOk:function(){n.props.equipmentDelete({deviceUniqueId:t}).then((function(e){e&&0==e.code&&n.props.onFilter()}))}})},e}return n=d,(r=[{key:"render",value:function(){var e=this.state,t=(e.param,e.labelKey,e.labelValue,e.type,e.loading),n=this.props,r=n.equipmentList,o=n.pager,u=n.form.getFieldDecorator;return a.a.createElement("div",{className:"equipment_list"},a.a.createElement(h.a,{title:"设备管理"},a.a.createElement(m.a,{layout:"inline"},a.a.createElement(k,null,u("type")(a.a.createElement(l.a,{style:{width:160},placeholder:"请选择查询条件"},D.map((function(e,t){return a.a.createElement(l.a.Option,{key:e.text+t,value:e.id},e.text)}))))),a.a.createElement(k,null,u("param")(a.a.createElement(i.a,{style:{width:160},maxLength:20,placeholder:"请输入查询条件"}))),a.a.createElement(k,{label:"设备标签"},u("labelKey")(a.a.createElement(i.a,{style:{width:160},maxLength:20,placeholder:"请输入标签Key"}))),a.a.createElement(k,null,u("labelValue")(a.a.createElement(i.a,{style:{width:160},maxLength:20,placeholder:"请输入标签Value"}))),a.a.createElement(k,null,a.a.createElement(p.a,{className:"modelSearch",type:"primary",htmlType:"submit",onClick:this.onFilter},"查询")),a.a.createElement(k,null,a.a.createElement(p.a,{className:"modelSearch",type:"primary",onClick:this.props.onReset},"重置")))),a.a.createElement("div",{className:"account-content"},a.a.createElement(c.a,null,a.a.createElement(b.a,{rowKey:"equipmentId",columns:this.column,dataSource:r,pager:o,onPageChange:this.props.onChange,loading:t}))))}}])&&O(n.prototype,r),o&&O(n,o),d}(r.Component),_=Object(y.connect)((function(e){return{equipmentList:e.getIn(["equipment","equipmentList"]).toJS(),pager:e.getIn(["equipment","pager"]).toJS()}}),(function(e){return{getList:function(t){return e(d.a.getEquipmentListFunc(t))},equipmentDelete:function(t){return e(d.a.equipmentDeleteFunc(t))}}}))(m.a.create()(Object(v.a)(C))),R=(n(165),n(288),n(112)),x=(n(1334),n(1335)),N=(n(342),n(248),n(164),n(7)),T=n(28);n(1394);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(l,e);var t,n,r,o,c=(t=l,function(){var e,n=V(t);if(M()){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return F(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).portInfoEdit=function(){return t.props.portInfo.split(",").map((function(e,t){return e.split("-")[1]}))},t.dataBackfill=function(){t.setState({portList:t.portInfoEdit()})},t.portInput=function(e,n){var r=t.state.portList;r[e]=n.target.value,t.setState({portList:r})},t.state={portList:t.portInfoEdit()||[]},t}return n=l,(r=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){for(var e=this.props.portNum,t=this.state.portList,n=[],r=0;r<e;r++)n.push(a.a.createElement("div",{className:"port-box",key:r},a.a.createElement("span",{className:"title"},"端口",r+1,":"),a.a.createElement(i.a,{value:t[r],className:"input",onChange:this.portInput.bind(this,r)})));return a.a.createElement("div",{className:"editport"},n.length>0?n:a.a.createElement("p",{style:{textAlign:"center"}},"暂无数据"))}}])&&A(n.prototype,r),o&&A(n,o),l}(r.Component),K=(n(246),n(1328),n(1329));n(1395);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=l.a.Option,Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=Y(t);if(W()){var r=Y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return B(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).siteInfoList=function(e){var n=t.props,r=n.editState,o=n.deviceSiteId,c=r?"":o&&o.split("-")||[];return e.map((function(e,n){var r=c.length>0?c[n]:"请选择";return a.a.createElement("div",{key:"标题"+n,className:"site-box"},a.a.createElement("span",{className:"title"},e.summary&&e.summary.summary||"",":"),a.a.createElement(l.a,{className:"select",defaultValue:r},e.elements.map((function(e,r){return a.a.createElement(G,{key:"位置模型"+e.elementId,value:e.elementId,onClick:t.props.selectSite.bind(H(t),e.elementId,n)},e.elementName)}))))}))},t.state={},t}return n=i,(r=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this.props,t=e.siteList,n=e.siteInfoList,r=e.siteModelId,o=r||"请选择",c=this.siteInfoList(n);return a.a.createElement("div",{className:"siteData"},a.a.createElement("div",{className:"site-box"},a.a.createElement("span",{className:"title"},"位置模型:"),a.a.createElement(l.a,{className:"select",value:o,onChange:this.props.getSite},t.map((function(e,t){return a.a.createElement(G,{key:"位置模型"+e.id,value:e.id},e.name)})))),a.a.createElement(K.a,null),c)}}])&&z(n.prototype,r),o&&z(n,o),i}(r.Component);n(1396);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=re(t);if(ne()){var r=re(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return te(this,e)});function i(){var e;X(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={portVisible:!1,modelId:"",siteVisible:!1,siteInfoList:[],positionIds:[],editState:!1},e.copyText=function(e){Object(T.g)(e)},e.handleOk=function(){for(var t=e.editPort.state.portList,n=e.props.deviceInfoData,r=n.deviceId,a=n.productId,o=[],c=0;c<t.length;c++){var i={deviceId:r,productId:a,deviceName:t[c],devicePortId:"端口"+(c+1)};o.push(i)}e.props.setPort({json:JSON.stringify(o)}).then((function(t){0==t.code&&(e.setState({portVisible:!1}),e.props.getEquipmentInfo({deviceId:r}).then((function(){})))}))},e.handleCancel=function(){e.setState({portVisible:!1},(function(){e.editPort.dataBackfill()}))},e.editPortModal=function(){e.props.deviceInfoData.bindTime?e.setState({portVisible:!0}):e.notification("暂无绑定设备，无法修改！")},e.notification=function(e){s.a.open({message:e,duration:4,icon:a.a.createElement(N.a,{type:"smile",rotate:180,style:{color:"#ea4d2e"}})})},e.siteHandleOk=function(){var t=e.props.deviceInfoData.deviceId,n=e.state,r=n.positionIds,a=n.modelId;r=r.join("-"),a?r?e.props.setSite({deviceId:t,positionIds:r}).then((function(n){0==n.code&&(e.props.getEquipmentInfo({deviceId:t}).then((function(){})),e.setState({siteVisible:!1}))})):e.notification("请选择位置模型下的位置信息！"):e.notification("请选择位置模型！")},e.siteHandleCancel=function(){e.setState({siteVisible:!1,modelId:"",positionIds:[],editState:!1})},e.editSiteModal=function(){if(e.props.deviceInfoData.bindTime){var t=e.props.deviceInfoData.siteModelId;t&&e.getSite(t,!1,!0),e.setState({siteVisible:!0})}else e.notification("暂无绑定设备，无法修改！")},e.getSite=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;e.setState({modelId:t,siteInfoList:[],positionIds:[],editState:n},(function(){e.props.getSite({modelId:t}).then((function(t){if(0==t.code){var n=e.state.siteInfoList;n.push(t.data[0]),e.setState({siteInfoList:n},(function(){if(r){var t=e.props.deviceInfoData.deviceSiteId,n=t&&t.split("-")||[];if(n.length>0)for(var a=0;a<n.length;a++)e.selectSite(n[a],a)}}))}}))}))},e.selectSite=function(t,n){var r=e.state,a=r.siteInfoList,o=r.modelId,c=r.positionIds,i=e.props.deviceInfoData.siteModelId;c[n]=t,e.setState({positionIds:c},(function(){e.props.getSite({modelId:o||i,elementId:t}).then((function(t){0==t.code&&(t.data.length>0&&(a[a.length-1].elements.length<1?a[a.length-1]=t.data.length>0?t.data[0]:{summary:{},elements:[]}:a.push(t.data.length>0?t.data[0]:{summary:{},elements:[]})),e.setState({siteInfoList:a}))}))}))},e}return n=i,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.deviceInfoData,n=t.productName,r=t.productId,o=t.productType,c=(t.productClass,t.productCode),i=t.deviceKey,l=t.deviceUniqueId,s=t.deviceSecret,p=t.deviceMac,m=t.activeTime,y=t.moduleVersion,d=t.gateWay,b=t.deviceName,h=t.bindUser,v=t.pcbVersion,g=t.bindTime,E=t.appReal,O=t.portInfo,w=t.portNum,S=t.deviceSite,j=t.deviceSiteId,P=t.siteModelId,I=this.state,D=I.portVisible,k=I.siteVisible,C=I.siteInfoList,_=I.modelId,R=I.editState;return P=_||P,a.a.createElement("div",{className:"equipmentDetailInfo"},a.a.createElement("div",{className:"tableTitle"},"产品基础属性"),a.a.createElement("table",{className:"table",cellSpacing:"0"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{width:"10%",className:"gray"},"产品名称"),a.a.createElement("td",{width:"15%"},n||"--"),a.a.createElement("td",{width:"10%",className:"gray"},"产品ID"),a.a.createElement("td",{width:"15%"},r||"--"),a.a.createElement("td",{width:"10%",className:"gray"},"所属分类"),a.a.createElement("td",{width:"15%"},a.a.createElement(f.a,{placement:"top",title:o},o||"--"))),a.a.createElement("tr",null,a.a.createElement("td",{className:"gray"},"类型"),a.a.createElement("td",null,"普通设备"),a.a.createElement("td",{className:"gray"},"产品编码"),a.a.createElement("td",null,c||"--"),a.a.createElement("td",{className:"gray"},"产品密钥"),a.a.createElement("td",null,a.a.createElement(f.a,{placement:"top",title:i},i||"--"))))),a.a.createElement("div",{className:"tableTitle"},"设备基础属性"),a.a.createElement("table",{className:"table",cellSpacing:"0"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{width:"10%",className:"gray"},"设备编码"),a.a.createElement("td",{width:"15%"},l||"--"),a.a.createElement("td",{width:"10%",className:"gray"},"设备密钥"),a.a.createElement("td",{width:"15%"},a.a.createElement(f.a,{placement:"top",title:s},s||"--",a.a.createElement("span",{className:"copy",onClick:this.copyText.bind(this,s)},"复制"))),a.a.createElement("td",{width:"10%",className:"gray"},"物理地址"),a.a.createElement("td",{width:"15%"},p||"--")),a.a.createElement("tr",null,a.a.createElement("td",{className:"gray"},"入网时间"),a.a.createElement("td",null,T.b.utcToDev(m)||"--"),a.a.createElement("td",{className:"gray"},"模组固件版本"),a.a.createElement("td",null,y||"--"),a.a.createElement("td",{className:"gray"},"绑定网关"),a.a.createElement("td",null,d||"--")),a.a.createElement("tr",null,a.a.createElement("td",{className:"gray"},"MCU固件版本"),a.a.createElement("td",null,v||"--"),a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null)))),a.a.createElement("div",{className:"tableTitle"},"应用属性"),a.a.createElement("table",{className:"table",cellSpacing:"0"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{width:"20%",className:"gray"},"绑定C端账户"),a.a.createElement("td",null,h||"--"),a.a.createElement("td",{width:"20%",className:"gray"},"绑定时间"),a.a.createElement("td",{width:"30%"},g&&T.b.utcToDev(g)||"--")),a.a.createElement("tr",null,a.a.createElement("td",{className:"gray"},"设备昵称"),a.a.createElement("td",{width:"30%"},b||"--"),a.a.createElement("td",{className:"gray"},"位置数据"),a.a.createElement("td",null,S||"--",a.a.createElement(f.a,{placement:"topRight",title:"编辑位置数据"},a.a.createElement("span",{className:"edit",onClick:this.editSiteModal},"...")))),a.a.createElement("tr",null,a.a.createElement("td",{className:"gray"},"关联应用"),a.a.createElement("td",null,a.a.createElement("span",{title:E||""},E||"--")),a.a.createElement("td",{className:"gray"},"端口信息"),a.a.createElement("td",null,O||"--",a.a.createElement(f.a,{placement:"topRight",title:"编辑端口信息"},a.a.createElement("span",{className:"edit",onClick:this.editPortModal},"...")))))),a.a.createElement(u.a,{title:"设备位置数据",visible:k,onOk:this.siteHandleOk,onCancel:this.siteHandleCancel},a.a.createElement(Z,{siteList:this.props.siteList,editState:R,siteInfoList:C,onRef:function(t){return e.editAffirm=t},getSite:this.getSite,selectSite:this.selectSite,siteModelId:P,deviceSiteId:j})),a.a.createElement(u.a,{title:"设备端口信息",visible:D,onOk:this.handleOk,onCancel:this.handleCancel},a.a.createElement(U,{portInfo:O,portNum:w,onRef:function(t){return e.editPort=t}})))}}])&&ee(n.prototype,r),o&&ee(n,o),i}(r.Component),ce=Object(y.connect)((function(e){return{}}),(function(e){return{setPort:function(t){return e(d.a.setPortFunc(t))},getEquipmentInfo:function(t){return e(d.a.getEquipmentInfoFunc(t))},getSite:function(t){return e(d.a.getSiteFunc(t))},setSite:function(t){return e(d.a.setSiteFunc(t))}}}))(oe),ie=(n(287),n(209),n(458),n(343),n(191)),le=(n(1326),n(1327));n(1397);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(u,e);var t,n,r,o,l=(t=u,function(){var e,n=he(t);if(be()){var r=he(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ye(this,e)});function u(){var e;pe(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l.call.apply(l,[this].concat(n))).state={editKey:"",editValue:"",loading:!1},e.columns=[{title:"标签Key-描述",key:"labelKey",dataIndex:"labelKey",width:"30%",render:function(t,n,r){return n.edit?a.a.createElement(i.a,{placeholder:"请输入标签Key,20字符以内",maxLength:20,value:n.labelKey,onChange:e.changeTag.bind(de(e),2,r)}):a.a.createElement("span",null,n.labelKey)}},{title:"标签Value-描述",key:"labelValue",dataIndex:"labelValue",width:"30%",render:function(t,n,r){return n.edit?a.a.createElement(i.a,{placeholder:"请输入标签value,20字符以内",maxLength:20,value:n.labelValue,onChange:e.changeTag.bind(de(e),3,r)}):a.a.createElement("span",null,n.labelValue)}},{title:"标签类型",key:"labelCategory",dataIndex:"labelCategory",width:"30%",render:function(e){return a.a.createElement("span",null,0==e?"用户定义":1==e?"系统默认":2==e?"后台定义":"")}}],e.columns0=[].concat(se(e.columns),[{title:"",key:"action",width:"10%",render:function(){return a.a.createElement("span",null)}}]),e.columns1=[].concat(se(e.columns),[{title:"操作",key:"action",width:"10%",render:function(t,n,r){return 2==n.labelCategory?n.edit?a.a.createElement("span",null,a.a.createElement(f.a,{placement:"top",title:"保存"},n.add?a.a.createElement(N.a,{className:"icon",type:"check-circle",theme:"twoTone",onClick:e.changeTag.bind(de(e),8,r)}):a.a.createElement(N.a,{className:"icon",type:"check-circle",theme:"twoTone",onClick:e.changeTag.bind(de(e),6,r)})),a.a.createElement(le.a,{title:"你确定要取消编辑该标签吗？",onConfirm:e.changeTag.bind(de(e),n.add?7:4,r),okText:"是",cancelText:"否",placement:"topRight"},a.a.createElement(f.a,{placement:"top",title:"取消"},(n.add,a.a.createElement(N.a,{className:"icon",type:"close-circle",theme:"twoTone"}))))):a.a.createElement("span",null,a.a.createElement(f.a,{placement:"top",title:"编辑"},a.a.createElement(N.a,{className:"icon",type:"edit",theme:"twoTone",onClick:e.changeTag.bind(de(e),1,r)})),a.a.createElement(f.a,{placement:"top",title:"删除"},a.a.createElement(le.a,{title:"你确定要删除该标签吗？",onConfirm:e.changeTag.bind(de(e),5,r),okText:"是",cancelText:"否",placement:"topRight"},a.a.createElement(N.a,{className:"icon",type:"delete",theme:"twoTone"})))):null}}]),e.onChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n={deviceId:e.props.deviceId,pageRows:10,pageIndex:t};e.setState({loading:!0},(function(){e.props.getEquipmentLabelList(n).then((function(){e.setState({loading:!1})}))}))},e.addLable=function(){var t=e.props.labelList;t.push({edit:!0,labelCategory:2,add:!0}),e.props.setEquipmentLabelList(t)},e}return n=u,(r=[{key:"componentDidMount",value:function(){this.onChange();var e={deviceId:this.props.deviceId,pageRows:10,pageIndex:1,defaultLabel:1};this.props.getEquipmentDefaultLabel(e)}},{key:"changeTag",value:function(e,t,n){var r=this,a=this.props.deviceId,o=this.state,c=o.editKey,i=o.editValue,l=this.props.labelList,u=l[t];1==e?(u.edit=!0,this.setState({editKey:u.labelKey,editValue:u.labelValue})):2==e?(u.labelKey=n.target.value,this.props.setEquipmentLabelList(l)):3==e?(u.labelValue=n.target.value,this.props.setEquipmentLabelList(l)):4==e?(u.labelKey=c,u.labelValue=i,u.edit=!1,this.props.setEquipmentLabelList(l)):5==e?this.props.equipmentLabelDelete({labelId:u.id}).then((function(){var e=r.props.labelPager,t=e.totalRows,n=e.pageIndex;n=t%(10*(n-1))>1?n:n-1,r.onChange(n)})):6==e?this.props.equipmentLabelUpdate({labelId:u.id,labelKey:u.labelKey,labelValue:u.labelValue}).then((function(){r.onChange(r.props.labelPager.pageIndex)})):7==e?(l.splice(t,1),this.props.setEquipmentLabelList(l)):8==e&&this.props.equipmentLabelAdd({deviceId:a,labelKey:u.labelKey,labelValue:u.labelValue}).then((function(e){e&&r.onChange()}))}},{key:"render",value:function(){var e=this.state.loading,t=this.props,n=t.labelList,r=t.labelPager,o=t.defaultLabel;return a.a.createElement("div",{className:"equipmentDetailTag"},a.a.createElement(c.a,null,a.a.createElement("h3",null,"默认设备标签："),a.a.createElement(ie.a,{columns:this.columns0,dataSource:o,rowKey:"labelKey",bordered:!0,pagination:!1}),a.a.createElement("h3",{className:"table-com"},"自定义设备标签："),a.a.createElement(b.a,{columns:this.columns1,dataSource:n,rowKey:"id",pager:r,onPageChange:this.onChange,loading:e}),a.a.createElement(p.a,{className:"plusLable",type:"primary",icon:"plus",onClick:this.addLable},"添加标签")))}}])&&me(n.prototype,r),o&&me(n,o),u}(r.Component),Ee=Object(y.connect)((function(e){return{defaultLabel:e.getIn(["equipment","defaultLabel"]).toJS(),labelList:e.getIn(["equipment","labelList"]).toJS(),labelPager:e.getIn(["equipment","labelPager"]).toJS()}}),(function(e){return{getEquipmentLabelList:function(t){return e(d.a.getEquipmentLabelListFunc(t))},setEquipmentLabelList:function(t){return e(d.a.setEquipmentLabelList(t))},equipmentLabelAdd:function(t){return e(d.a.equipmentLabelAddFunc(t))},equipmentLabelDelete:function(t){return e(d.a.equipmentLabelDeleteFunc(t))},equipmentLabelUpdate:function(t){return e(d.a.equipmentLabelUpdateFunc(t))},getEquipmentDefaultLabel:function(t){return e(d.a.getEquipmentDefaultLabel(t))}}}))(ge);n(1398);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(l,e);var t,n,r,o,i=(t=l,function(){var e,n=Ie(t);if(Pe()){var r=Ie(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return je(this,e)});function l(){var e;we(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={steps:Object(T.k)("step")||"1",siteList:[]},e.callback=function(t){e.props.history.replace({search:"?step=".concat(t)}),e.setState({steps:t})},e.remove=function(){e.props.getSiteModel().then((function(t){0==t.code&&e.setState({siteList:t.data})}))},e}return n=l,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.deviceId;this.props.getEquipmentInfo({deviceId:t}).then((function(){e.props.getSiteModel().then((function(t){0==t.code&&e.setState({siteList:t.data})})),e.setState({loading:!1})}))}},{key:"copyText",value:function(e){Object(T.g)(e)}},{key:"render",value:function(){var e=this,t=this.props.match.params.deviceId,n=this.props.deviceInfoData;return a.a.createElement("div",{className:"equipmentDetail"},a.a.createElement(x.a,{title:"数据标签-详情"},a.a.createElement(p.a,{type:"primary",className:"btn-back",onClick:function(){return e.props.history.go(-1)}},"返回")),a.a.createElement(c.a,null,a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{width:"70px"},"设备ID："),a.a.createElement("td",{width:"120px"},n.deviceUniqueId),a.a.createElement("td",{width:"120px"},"物理地址："),a.a.createElement("td",{width:"250px"},n.deviceMac),a.a.createElement("td",{width:"90px"},"产品密钥："),a.a.createElement("td",{width:"300px"},n.deviceKey,a.a.createElement("span",{className:"copy",onClick:this.copyText.bind(this,n.deviceKey)},"复制"))),a.a.createElement("tr",null,a.a.createElement("td",null,"产品名："),a.a.createElement("td",{title:n.productName},n.productName),a.a.createElement("td",null,"所属分类："),a.a.createElement("td",{title:n.productType},n.productType),a.a.createElement("td",null,"产品编码："),a.a.createElement("td",null,n.productCode))))),a.a.createElement("br",null),a.a.createElement(c.a,null,a.a.createElement(R.a,{defaultActiveKey:this.state.steps,size:"large",onChange:function(t){return e.callback(t)}},a.a.createElement(R.a.TabPane,{tab:"基本信息",key:"1"},a.a.createElement(ce,{deviceInfoData:n,siteList:this.state.siteList,remove:this.remove})),a.a.createElement(R.a.TabPane,{tab:"设备标签",key:"2"},a.a.createElement(Ee,{deviceId:t})))))}}])&&Se(n.prototype,r),o&&Se(n,o),l}(r.Component),Ce=Object(y.connect)((function(e){return{deviceInfoData:e.getIn(["equipment","deviceInfoData"]).toJS()}}),(function(e){return{getEquipmentInfo:function(t){return e(d.a.getEquipmentInfoFunc(t))},getSiteModel:function(t){return e(d.a.getSiteModelFunc(t))}}}))(ke);t.default=function(e){var t=e.match;return a.a.createElement(o.Switch,null,a.a.createElement(o.Route,{path:"".concat(t.url,"/list"),component:_}),a.a.createElement(o.Route,{path:"".concat(t.url,"/:deviceId"),component:Ce}),a.a.createElement(o.Redirect,{from:"".concat(t.url,"/"),to:"".concat(t.url,"/list")}))}},1433:function(e,t,n){"use strict";n.r(t);n(92),n(247);var r=n(0),a=n.n(r),o=n(43),c=(n(19),n(39),n(40),n(32),n(50),n(23),n(51),n(33),n(34),n(165),n(248),n(35),n(134),n(68)),i=(n(208),n(81)),l=(n(73),n(20)),u=(n(245),n(121)),s=(n(151),n(41)),f=(n(190),n(74)),p=n(42),m=n(1361),y=n(103),d=(n(120),n(29),n(287),n(67),n(209),n(246),n(189),n(456),n(164),n(7)),b=(n(138),n(49)),h=n(166),v=n(460);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=s.a.Item,_=f.a.Option,R=0,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(l,e);var t,n,r,o,i=(t=l,function(){var e,n=D(t);if(I()){var r=D(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return P(this,e)});function l(){var e;S(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={keys:[0],type:1,isIpChecked:!1},e.handleOk=function(){var t=e.props,n=t.form,r=t.userDetail,a=t.developerInfo;n.validateFields((function(t,n){t||(n.userNameList&&(n.userNameList=n.userNameList.filter(Boolean).map((function(e){return e+"@"+a.developerId}))),n.userName&&(n.userName=n.userName+"@"+r.userName.split("@")[1]),n.isIpChecked||(n.ipWhiteList=null),delete n.isIpChecked,r.userId?(n.userId=r.userId,e.props.saveUser(n)):e.props.addUser(n))}))},e.handleClose=function(){e.props.triggerModal(!1)},e.handleAdd=function(){var t=e.state.keys;t.filter(Boolean).length>9?b.a.warning({duration:3,message:"一次最多添加十个用户"}):e.setState({keys:[].concat(O(t),[++R])})},e.handleDel=function(t){var n=e.state.keys;e.setState({keys:n.filter((function(e){return e!==t}))})},e.handleCheck=function(t){var n=e.props.form;t||n.setFieldsValue({ipWhiteList:[]})},e.checkIP=function(e,t,n){new RegExp(/^(?:(?:^|,)(?:[0-9]|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])(?:\.(?:[0-9]|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])){3})+$/).test(t)?t.split(",").length>10&&n("最多添加10个IP"):n('格式错误，多个IP地址以",(英文)"分割,最多10个IP');n()},e}return n=l,(r=[{key:"componentWillReceiveProps",value:function(e){e.visible&&!this.props.visible&&this.setState({keys:[0],type:1})}},{key:"componentDidMount",value:function(){this.props.getRoleList(),this.props.developerInfo.developerId||this.props.getDeveloperInfo()}},{key:"render",value:function(){var e=this,t=(this.state.type,this.props),n=t.visible,r=t.form,o=t.userDetail,i=t.roleList,l=t.developerInfo,p=r.getFieldDecorator,m={labelCol:{span:6},wrapperCol:{span:15}},y=r.getFieldValue("isIpChecked"),b=o.userId?a.a.createElement(C,E({label:"用户名"},m),p("userName",{rules:[{required:!0,message:"请输入用户名"},{pattern:/^\w{6,14}$/,message:"请输入6~14位大小写字母＋数字"}]})(a.a.createElement(c.a,{placeholder:"请输入6~14位大小写字母＋数字",maxLength:14,suffix:"@"+o.userName.split("@")[1]}))):a.a.createElement("div",null,this.state.keys.map((function(t,n){return a.a.createElement(C,{label:n<1?"用户名":"",labelCol:{span:6},wrapperCol:n<1?{span:15}:{offset:6,span:15},key:t},p("userNameList[".concat(t,"]"),{rules:[{required:!0,message:"请输入用户名"},{pattern:/^\w{6,14}$/,message:"请输入6~14位大小写字母＋数字"}]})(a.a.createElement(c.a,{maxLength:14,placeholder:"请输入6~14位大小写字母＋数字",suffix:"@"+l.developerId})),t?a.a.createElement(d.a,{type:"minus-circle",className:"btn-del",onClick:e.handleDel.bind(e,t)}):null)})),a.a.createElement(C,m,a.a.createElement("span",{className:"btn-add",onClick:this.handleAdd},"添加用户")));return a.a.createElement(u.a,{title:"创建用户",width:600,visible:n,onOk:this.handleOk,onCancel:this.handleClose,wrapClassName:"interface-modal"},a.a.createElement(s.a,null,b,a.a.createElement(C,E({label:"用户角色"},m),p("roleId",{rules:[{required:!0,message:"请选择而用户角色"}]})(a.a.createElement(f.a,{placeholder:"请选择用户角色",style:{width:240}},i.map((function(e){return a.a.createElement(_,{key:e.roleId,value:e.roleId},e.roleName)}))))),y?a.a.createElement(C,{wrapperCol:{offset:6,span:15}},p("ipWhiteList",{validateTrigger:"onChange",rules:[{validator:this.checkIP}]})(a.a.createElement(c.a.TextArea,{placeholder:'多个IP地址以",(英文)"分割,最多10个IP',style:{height:80}}))):null,a.a.createElement(C,E({label:"备注"},m),p("remark")(a.a.createElement(c.a.TextArea,{placeholder:"不超过100个字符",style:{height:100}})))))}}])&&j(n.prototype,r),o&&j(n,o),l}(a.a.Component),N=Object(p.connect)((function(e){return{visible:e.getIn(["interfaceUser","visible"]),userDetail:e.getIn(["interfaceUser","userDetail"]).toJS(),roleList:e.getIn(["interfaceUser","roleList"]).toJS(),developerInfo:e.getIn(["interfaceUser","developerInfo"]).toJS()}}),(function(e){return Object(h.bindActionCreators)({getList:v.a.getList,triggerModal:v.a.triggerModal,getRoleList:v.a.getRoleList,addUser:v.a.addUser,saveUser:v.a.saveUser,getDeveloperInfo:v.a.getDeveloperInfo,setUserDetail:v.a.setUserDetail},e)}))(s.a.create({mapPropsToFields:function(e){return e.userDetail.userId?{userName:s.a.createFormField({value:e.userDetail.userName.split("@")[0]}),roleId:s.a.createFormField({value:e.userDetail.roleId}),ipWhiteList:s.a.createFormField({value:e.userDetail.ipWhiteList}),isIpChecked:s.a.createFormField({value:!!e.userDetail.ipWhiteList}),remark:s.a.createFormField({value:e.userDetail.remark})}:{}}})(x)),T=n(1362);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=f.a.Option,J=s.a.Item,z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(d,e);var t,n,a,o,p=(t=d,function(){var e,n=q(t);if(V()){var r=q(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return F(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=p.call(this,e)).handleDetail=function(e){t.props.history.push("./".concat(e))},t.handleDel=function(e){var n=M(t);u.a.confirm({title:"提示",content:"是否确认删除？",onOk:function(){n.props.delUser(e)}})},t}return n=d,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.userList,a=t.pager,o=t.form,u=t.loading,p=t.openModal,d=o.getFieldDecorator,b=[{title:"用户名",dataIndex:"userName",width:"12%",render:function(e){return r.createElement("span",null,e.split("@")[0])}},{title:"secretId",dataIndex:"secretId",width:"280px",render:function(e){return r.createElement("span",{title:e},e)}},{title:"所属客户ID",dataIndex:"parentId",width:"120px",render:function(e){return r.createElement("span",null,-1===e?"系统":e)}},{title:"账户角色",dataIndex:"roleName",width:"15%",render:function(e){return r.createElement("span",{title:e},e)}},{title:"账户备注",dataIndex:"remark",width:"18%",render:function(e){return r.createElement("span",{title:e},e)}},{title:"账户状态",dataIndex:"status",width:"100px",render:function(e){return r.createElement("span",null,1===e?"可用":"禁用")}},{title:"操作",width:"167px",render:function(t){return r.createElement("div",{className:"action"},-1===t.parentId?r.createElement("span",null,r.createElement(i.a,{placement:"top",title:"编辑"},r.createElement(l.a,{icon:"edit",shape:"circle",size:"small",onClick:p.bind(e,t)})),"  |  "):null,r.createElement(i.a,{placement:"top",title:"查看"},r.createElement(l.a,{icon:"info",shape:"circle",size:"small",onClick:e.handleDetail.bind(e,t.userId)})),-1===t.parentId?r.createElement("span",null,"  |  ",r.createElement(i.a,{placement:"top",title:"删除"},r.createElement(l.a,{icon:"delete",shape:"circle",size:"small",onClick:e.handleDel.bind(e,t.userId)}))):null)}}];return r.createElement("div",{className:"interface-user"},r.createElement(m.a,{title:"接口访问用户"},r.createElement(s.a,{layout:"inline"},r.createElement(J,{label:"用户名"},d("userName")(r.createElement(c.a,{placeholder:"请输入用户名",maxLength:20,style:{width:160},onPressEnter:this.props.onFilter}))),r.createElement(J,{label:"所属客户ID"},d("parentId",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(r.createElement(c.a,{placeholder:"请输入所属客户ID",maxLength:20,style:{width:160},onPressEnter:this.props.onFilter.bind(this)}))),r.createElement(J,{label:"账户状态"},d("status")(r.createElement(f.a,{style:{width:160},placeholder:"请选择状态"},r.createElement(K,{key:"undefined",value:""},"全部"),r.createElement(K,{key:"1",value:1},"可用"),r.createElement(K,{key:"0",value:0},"禁用")))),r.createElement(J,null,r.createElement(l.a,{type:"primary",onClick:this.props.onFilter},"查询")),r.createElement(J,null,r.createElement(l.a,{type:"primary",onClick:this.props.onReset},"重置")),r.createElement(J,{style:{float:"right"}},r.createElement(l.a,{type:"primary",onClick:p.bind(this,{})},"新建")))),r.createElement("div",{className:"interface-user-content"},r.createElement(y.a,{rowKey:"userId",columns:b,dataSource:n,pager:a,loading:u,onPageChange:this.props.onChange})),r.createElement(N,null))}}])&&A(n.prototype,a),o&&A(n,o),d}(r.Component),B=Object(p.connect)((function(e){return{userList:e.getIn(["interfaceUser","userList"]).toJS(),pager:e.getIn(["interfaceUser","pager"]).toJS(),loading:e.getIn(["interfaceUser","loading"])}}),(function(e){return Object(h.bindActionCreators)({getList:v.a.getList,openModal:v.a.openModal,delUser:v.a.delUser},e)}))(s.a.create()(Object(T.a)(z))),H=(n(787),n(342),n(292),n(64)),W=(n(288),n(112)),Y=n(1367);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=W.a.TabPane,oe=function(e){var t=e.value,n=ne(Object(r.useState)(!1),2),o=n[0],c=n[1];return t?a.a.createElement("div",{className:"visible-string"},a.a.createElement("div",{style:{width:300}},o?t:t.slice(0,5)+Array(t.length-10).fill("*").join("")+t.slice(-5)),a.a.createElement("div",{onClick:function(){c(!o)},style:{cursor:"pointer",margin:"0 10px"}},o?a.a.createElement(d.a,{type:"eye",style:{color:"#1890ff"}}):a.a.createElement(d.a,{type:"eye-invisible"}))):a.a.createElement("div",null)},ce=function e(t){return t&&t.map((function(t){return{id:t.boxId,name:(t.boxName||t.groupName||"").split("#")[0],children:e(t.subBoxs)}}))},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(u,e);var t,n,r,o,i=(t=u,function(){var e,n=ee(t);if(X()){var r=ee(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Q(this,e)});function u(){var e;G(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={loading:!1},e.handleBack=function(){e.props.history.go(-1)},e.handleEdit=function(){e.props.triggerModal(!0)},e}return n=u,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.getUserDetail(e),this.props.getRoleAuth(e)}},{key:"componentWillUnmount",value:function(){this.props.setUserDetail({})}},{key:"render",value:function(){var e=this.props,t=e.authList,n=e.target,r=e.userDetail,o=r.ipWhiteList,i=r.userName,u=r.roleName,s=r.remark,f=r.secretKey,p=r.secretId,y=r.regTime,d=r.modifyTime,b=t.filter((function(e){return"hideData"!==e.menuCode}));return a.a.createElement("div",{className:"interface-user"},a.a.createElement(m.a,{title:"用户详情"},a.a.createElement(l.a,{type:"primary",className:"interface-user-edit-btn",onClick:this.handleBack},"返回"),a.a.createElement(H.a,null,a.a.createElement(H.a.Item,{label:"用户名"},i),a.a.createElement(H.a.Item,{label:"账户类型"},"接口访问用户"),a.a.createElement(H.a.Item,{label:"用户角色"},u),a.a.createElement(H.a.Item,{label:"创建时间"},y),a.a.createElement(H.a.Item,{label:"修改时间"},d),a.a.createElement(H.a.Item,{label:"备注"},s))),a.a.createElement("div",{className:"interface-user-content"},a.a.createElement("h2",null,"用户SecretKey"),a.a.createElement("div",{className:"interface-user-secret"},a.a.createElement("div",{className:"secret-header"},"SecretId"),a.a.createElement("div",{className:"secret-header"},"SecretKey"),a.a.createElement("div",{className:"secret-header"},"创建时间"),a.a.createElement("div",null,p),a.a.createElement("div",null,a.a.createElement(oe,{value:f})),a.a.createElement("div",null,y))),a.a.createElement("div",{className:"interface-user-content"},a.a.createElement("h2",null,"IP白名单"),a.a.createElement(c.a.TextArea,{disabled:!0,value:o,style:{height:80}})),a.a.createElement("div",{className:"interface-user-content"},a.a.createElement("h2",null,"权限信息"),a.a.createElement("div",{className:"interface-user-auth"},b.length?a.a.createElement(W.a,null,b.map((function(e,t){return a.a.createElement(ae,{tab:e.menuName,key:e.menuCode},a.a.createElement(Y.a,{dataSource:ce(e.checkBoxGroupList),target:n[t],isCheck:!1,isExpand:!0,key:t+""}))}))):null)))}}])&&Z(n.prototype,r),o&&Z(n,o),u}(a.a.Component),le=Object(p.connect)((function(e){return{userDetail:e.getIn(["interfaceUser","userDetail"]).toJS(),authList:e.getIn(["interfaceUser","authList"]).toJS(),target:e.getIn(["interfaceUser","target"]).toJS()}}),(function(e){return Object(h.bindActionCreators)({getUserDetail:v.a.getUserDetail,getRoleAuth:v.a.getRoleAuth,openModal:v.a.openModal,triggerModal:v.a.triggerModal,setUserDetail:v.a.setUserDetail},e)}))(ie),ue=n(1363);n(1389),t.default=function(e){var t=e.match;return r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:"".concat(t.url,"/list"),component:B}),r.createElement(o.Route,{exact:!0,path:"".concat(t.url,"/:userId"),component:Object(ue.a)(le)}),r.createElement(o.Redirect,{from:"".concat(t.url,"/"),to:"".concat(t.url,"/list")}))}},1434:function(e,t,n){"use strict";n.r(t);n(19),n(39),n(40),n(32),n(67),n(50),n(23),n(51),n(33),n(34),n(35),n(73);var r=n(20),a=(n(1334),n(1335)),o=(n(441),n(168)),c=(n(442),n(108)),i=(n(138),n(49)),l=(n(808),n(349)),u=n(0),s=n.n(u),f=n(42),p=n(759),m=(n(4),n(29),n(30),n(189),n(45),n(46),n(36),n(31),n(151),n(41)),y=(n(134),n(68));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(r,e);var t,n=(t=r,function(){var e,n=j(t);if(S()){var r=j(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return w(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).handleSubmit=function(e){e.preventDefault();var n=t.props.form.validateFieldsAndScroll,r=t.props.changeCurrent;n((function(e,t){e||r("next")}))},t}return O(r,[{key:"componentDidMount",value:function(){this.props.onRef(this)}}]),O(r,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"first-content"},s.a.createElement(m.a,g({},{labelCol:{span:3},wrapperCol:{span:21}},{className:"data-label-form"}),s.a.createElement(m.a.Item,{label:"标签类别名"},e("labelAlias",{rules:[{max:50,message:"最多可输入50个字符"}]})(s.a.createElement(y.a,{placeholder:"最多可输入50个字符",style:{width:"calc(35% - 24px)"}})),s.a.createElement("span",{className:"item"},"如：业务类")),s.a.createElement(m.a.Item,{label:"新增标签名称"},e("labelName",{rules:[{required:!0,message:"请输入新增标签名称"},{max:50,message:"最多可输入50个字符"}]})(s.a.createElement(y.a,{placeholder:"最多可输入50个字符",style:{width:"calc(35% - 24px)"}})),s.a.createElement("span",{className:"item"},"如：项目主体")),s.a.createElement(m.a.Item,{label:"对应value"},e("labelValue",{rules:[{required:!0,message:"请输入对对应value"},{max:30,message:"最多可输入30个字符"}]})(s.a.createElement(y.a,{placeholder:"最多30个字符",style:{width:"calc(35% - 24px)"}})),s.a.createElement("span",{className:"item"},"如：酒店名称，木棉花酒店"))))}}]),r}(u.Component),D=m.a.create({name:"dataLabel",onFieldsChange:function(e,t){"{}"!==JSON.stringify(t)&&e.changeFormData("labelForm",t)},mapPropsToFields:function(e){for(var t=e.labelForm,n={},r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];n[o]=m.a.createFormField(b({},t[o],{value:t[o].value}))}return n}})(I),k=(n(120),n(457),n(1330),n(1331)),C=(n(164),n(7));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=V(t);if(M()){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return F(this,e)});function i(){var e;L(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).handleSubmit=function(t){t.preventDefault();var n=e.props.form.validateFieldsAndScroll,r=e.props.changeCurrent;n((function(e,t){e||r("next")}))},e.exportFormWorkExcel=function(){var e=window.location.host;e.startsWith("localhost")&&(e="200.200.200.50"),window.location.href="https://"+e+"/v1/web/manage-open/labelInfo/exportFormworkExcel"},e.onRemove=function(t){e.props.deleteFile(t)},e.beforeUpload=function(t){return e.props.addFile(t),!1},e}return n=i,(a=[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.scopeForm;return s.a.createElement("div",{className:"second-content"},s.a.createElement(m.a,T({},{labelCol:{span:2},wrapperCol:{span:18}},{className:"data-scope-form"}),s.a.createElement(m.a.Item,{label:"设备导入"},e("deviceImport",{rules:[{required:!0,message:"请选择文件"}]})(s.a.createElement("div",null,s.a.createElement("a",{href:"javascript:",className:"download",onClick:this.exportFormWorkExcel},"下载模版"),s.a.createElement(k.a,{onRemove:this.onRemove,beforeUpload:this.beforeUpload,fileList:t.excelFiles,accept:".xls,.xlsx"},s.a.createElement(r.a,null,s.a.createElement(C.a,{type:"upload"}),"批量倒入")),s.a.createElement("span",null,"备注：导入列表设备MAC、IMEI列表数据，后台将赋予上一步定义的标签名称和标签值。")))),s.a.createElement(m.a.Item,{label:"批次名"},e("batch",{rules:[{required:!0,message:"请输入本次导入的设备列表，备注名称"}]})(s.a.createElement(y.a,{placeholder:"输入本次导入的设备列表，备注名称",style:{width:"calc(50%)"}}))),s.a.createElement(m.a.Item,{label:"账户名称"},e("accountName",{rules:[{required:!0,message:"请输入账户名称"}]})(s.a.createElement(y.a,{placeholder:"请输入账户名称",style:{width:"calc(50%)"}})),s.a.createElement("span",{style:{marginLeft:"10px"}},"请输入管理后台配置好的接口访问用户角色下账号"))))}}])&&A(n.prototype,a),o&&A(n,o),i}(s.a.Component),K=m.a.create({name:"dataScope",onFieldsChange:function(e,t){"{}"!==JSON.stringify(t)&&e.changeFormData("scopeForm",t)},mapPropsToFields:function(e){var t=e.scopeForm;return{deviceImport:m.a.createFormField(R({},t.deviceImport,{value:t.deviceImport.value})),batch:m.a.createFormField(R({},t.batch,{value:t.batch.value})),accountName:m.a.createFormField(R({},t.accountName,{value:t.accountName.value}))}}})(U),J=n(3),z=n(9);n(1391);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=l.a.Step,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(m,e);var t,n,u,f,p=(t=m,function(){var e,n=$(t);if(Y()){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return W(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=p.call(this,e)).next=function(e){var n=t.props.current;0===n?t.dataLabelForm.handleSubmit(e):1===n&&t.dataScopeForm.handleSubmit(e)},t.saveStaticLabel=function(){var e,n=t.props,r=n.labelForm,a=n.scopeForm;(e={labelAlias:r.labelAlias.value,labelName:r.labelName.value,labelValue:r.labelValue.value,deviceImport:a.excelFiles[0],batch:a.batch.value,accountName:a.accountName.value},J.b.request({url:"manage-open/labelInfo/saveStaticLabel",data:e,needFormData:!0,method:"post",loading:!0})).then((function(e){var n=e.data.code,r=e.data.msg,a=0===n?"success":"error";n===z.a?(i.a[a]({message:"数据标签保存成功",description:"数据标签保存成功",duration:3,onClick:function(){console.log("Notification Clicked!")}}),t.props.changeCurrent("submit"),t.props.clearFormData()):i.a[a]({message:n,description:r,duration:3,onClick:function(){console.log("Notification Clicked!")}})}))},t}return n=m,(u=[{key:"componentDidMount",value:function(){this.props.changeCurrent("submit"),this.props.clearFormData()}},{key:"_getCurStepContent",value:function(){var e=this,t=this.props,n=t.labelForm,r=t.scopeForm,a=t.addFile,i=t.deleteFile,l=t.changeCurrent,u=t.changeFormData;return[{title:"定义标签数据",content:s.a.createElement(D,{changeCurrent:l,onRef:function(t){return e.dataLabelForm=t},labelForm:n,changeFormData:u})},{title:"确定数据范围",content:s.a.createElement(K,{scopeForm:r,changeCurrent:l,onRef:function(t){return e.dataScopeForm=t},changeFormData:u,addFile:a,deleteFile:i})},{title:"提交计算处理",content:s.a.createElement("div",{className:"third-content"},s.a.createElement(o.a,{gutter:0,align:"middle"},s.a.createElement(c.a,{span:2},s.a.createElement("span",null,"标签列表：")),s.a.createElement(c.a,{span:8},s.a.createElement("div",{className:"label-name-column"},s.a.createElement("div",null,"标签名称"),s.a.createElement("div",null,n.labelName.value))),s.a.createElement(c.a,{span:8},s.a.createElement("div",{className:"label-value-column"},s.a.createElement("div",null,"标签值"),s.a.createElement("div",null,n.labelValue.value)))),s.a.createElement(o.a,{gutter:8,align:"middle"},s.a.createElement(c.a,{span:2}),s.a.createElement(c.a,{span:16,className:"remarks"},s.a.createElement("span",null,"备注：设备标签，必须包含标签名称和对应的标签值。"))),s.a.createElement(o.a,{gutter:8,align:"middle"},s.a.createElement(c.a,{span:2},s.a.createElement("span",null,"范围数据：")),s.a.createElement(c.a,null,s.a.createElement("span",null,r.batch.value))))}]}},{key:"render",value:function(){var e=this.props,t=e.changeCurrent,n=e.current,o=this._getCurStepContent();return s.a.createElement("div",{className:"data-label-page-wrapper"},s.a.createElement(a.a,{title:"数据标签--标签分析",className:"data-label-title",subTitle:"备注：暂时仅支持对设备，做标签标示。"}),s.a.createElement("div",{className:"data-label-content-wrapper"},s.a.createElement("div",{className:"step-wrapper"},s.a.createElement(l.a,{current:n},o.map((function(e){return s.a.createElement(Z,{key:e.title,title:e.title})}))),s.a.createElement("div",{className:"steps-content"},o[n].content),s.a.createElement("div",{className:"steps-action"},n>0&&s.a.createElement(r.a,{style:{marginRight:8},onClick:function(){return t("prev")}},"上一步"),n<o.length-1&&s.a.createElement(r.a,{type:"primary",onClick:this.next},"下一步"),n===o.length-1&&s.a.createElement(r.a,{type:"primary",onClick:this.saveStaticLabel},"提交")))))}}])&&H(n.prototype,u),f&&H(n,f),m}(u.Component);t.default=Object(f.connect)((function(e){return{labelForm:e.getIn(["dataLabel","labelForm"]).toJS(),scopeForm:e.getIn(["dataLabel","scopeForm"]).toJS(),current:e.getIn(["dataLabel","current"])}}),(function(e){return{changeCurrent:function(t){var n=p.a.changeCurrent(t);e(n)},changeFormData:function(t,n){var r=p.a.changeFormData(t,n);e(r)},saveStaticLabel:function(t){var n=p.a.saveStaticLabel(t);e(n)},addFile:function(t){var n=p.a.addFile(t);e(n)},deleteFile:function(t){var n=p.a.deleteFile(t);e(n)},clearFormData:function(){var t=p.a.clearFormData();e(t)}}}))(Q)},1439:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));n(19),n(39),n(40),n(120),n(29),n(30),n(287),n(32),n(209),n(246),n(45),n(46),n(50),n(36),n(23),n(51),n(33),n(34),n(31),n(35),n(73);var r=n(20),a=(n(151),n(41)),o=(n(134),n(68)),c=(n(190),n(74)),i=(n(1340),n(1338)),l=n(0),u=n.n(l),s=n(103),f=n(1361);n(1400);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,n,r,a,o=(t=c,function(){var e,n=h(t);if(b()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d(this,e)});function c(){return m(this,c),o.apply(this,arguments)}return n=c,(r=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,r=e.style;return u.a.createElement("section",{style:r||{},className:"alone-section-wrapper"},t&&u.a.createElement("div",{className:"alone-section-title"},t),n)}}])&&y(n.prototype,r),a&&y(n,a),c}(l.Component),E=(n(5),n(1401),n(28)),O=n(3);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function _(e){return function(){var t,n=N(e);if(x()){var r=N(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return R(this,t)}}function R(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=i.a.RangePicker,F=c.a.Option,M=function(e){T(n,e);var t=_(n);function n(){var e;D(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={defaultDate:new Date},e.handleSubmit=function(t){t.preventDefault();var n=e.props,r=n.form,a=n.searchLog;r.validateFields((function(e,t){if(!e){var n=t.time,r=void 0===n?[]:n,o=t.userName,c=t.type,i=t.theme,l=P(r,2),u=l[0],s=void 0===u?"":u,f=l[1],p=void 0===f?"":f;s&&(s=1e3*(s.hour(0).minute(0).second(0).millisecond(0).unix()-28800)),p&&(p=1e3*(p.hour(0).minute(0).second(0).millisecond(0).unix()-28800)),a({userName:o,type:c,theme:i,startTime:s,endTime:p})}}))},e.reset=function(){e.props.form.resetFields()},e}return C(n,[{key:"render",value:function(){var e=this.props.form,t=(this.state.defaultDate,e.getFieldDecorator);return u.a.createElement(a.a,{layout:"inline",onSubmit:this.handleSubmit},u.a.createElement(a.a.Item,{label:"操作人"},t("userName",{rules:[],initialValue:""})(u.a.createElement(o.a,{style:{width:"200px"},placeholder:"请输入操作账号"}))),u.a.createElement(a.a.Item,{label:"操作分类"},t("type",{rules:[],initialValue:""})(u.a.createElement(c.a,{style:{width:"200px"}},u.a.createElement(F,{value:""},"请选择"),u.a.createElement(F,{value:"0"},"基本操作"),u.a.createElement(F,{value:"1"},"产品操作"),u.a.createElement(F,{value:"2"},"openApi"),u.a.createElement(F,{value:"3"},"数据订阅"),u.a.createElement(F,{value:"4"},"应用管理"),u.a.createElement(F,{value:"5"},"设备管理")))),u.a.createElement(a.a.Item,{label:"对象"},t("theme",{rules:[],initialValue:""})(u.a.createElement(o.a,{style:{width:"200px"},placeholder:"请输入操作对象"}))),u.a.createElement(a.a.Item,{label:"时间"},t("time",{rules:[]})(u.a.createElement(A,{format:"YYYY/MM/DD"}))),u.a.createElement(a.a.Item,{style:{float:"right"}},u.a.createElement(r.a,{style:{marginRight:"12px"},htmlType:"submit",type:"primary"},"查询"),u.a.createElement(r.a,{onClick:this.reset,type:"default"},"重置")))}}]),n}(l.Component),V=a.a.create({name:"search-form"})(M),q=function(e){T(n,e);var t=_(n);function n(e){var r;return D(this,n),(r=t.call(this,e)).state={loading:!1,logsList:[],pager:{},pageIndex:1,conditions:{userName:"",type:"",theme:"",startTime:"",endTime:""}},r.searchLog=function(e){r.setState({conditions:e,pageIndex:1},(function(){r.getLogsList()}))},r.changePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r.setState({pageIndex:e,loading:!0},(function(){r.getLogsList()}))},r.columns=[{title:"Id",dataIndex:"logId",width:"80px"},{title:"操作人",dataIndex:"userName",width:"200px"},{title:"操作",dataIndex:"content",width:"200px",render:function(e){return u.a.createElement("span",{title:e},e)}},{title:"对象",dataIndex:"theme",render:function(e){return u.a.createElement("span",{title:e},e)}},{title:"时间",width:"200px",dataIndex:"createTime",render:function(e,t){var n=t.createTime;return u.a.createElement("span",null,E.b.utcToDev(+n))}}],r}return C(n,[{key:"componentDidMount",value:function(){this.getLogsList()}},{key:"getLogsList",value:function(){var e,t=this,n=this.state,r=n.conditions,a=n.pageIndex,o={};Object.keys(r).forEach((function(e){r[e]&&(o[e]=r[e])})),(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{pageIndex:a,pageRows:20,version:"1.1"}),O.b.Get("/manage-open/operate/log/getList",e)).then((function(e){var n=e.data.data||{},r=n.list,a=n.pager;t.setState({logsList:Object(E.f)(r),pager:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.logsList,n=e.pager,r=(e.pageIndex,e.loading);return u.a.createElement("div",null,u.a.createElement(g,{title:""},u.a.createElement("div",{className:"search-area"},u.a.createElement(f.a,{title:"日志"},u.a.createElement(V,{searchLog:this.searchLog}))),u.a.createElement("div",{className:"operate-content",style:{marginTop:"24px",padding:"12px 24px"}},u.a.createElement(s.a,{rowKey:"logId",columns:this.columns,pager:n,loading:r,onPageChange:this.changePage,dataSource:t}))))}}]),n}(l.Component)},1446:function(e,t,n){"use strict";n.r(t);n(92),n(247);var r=n(0),a=n.n(r),o=n(43),c=(n(19),n(39),n(40),n(120),n(32),n(67),n(50),n(36),n(23),n(51),n(33),n(34),n(165),n(35),n(93),n(37)),i=(n(190),n(74)),l=(n(134),n(68)),u=(n(208),n(81)),s=(n(73),n(20)),f=(n(151),n(41)),p=n(42),m=n(179),y=n(103),d=n(28),b=n(1361),h=n(1362);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=f.a.Item,D={0:"开发中",1:"已发布",2:"审核中"},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(m,e);var t,n,r,o,p=(t=m,function(){var e,n=j(t);if(S()){var r=j(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O(this,e)});function m(){var e;g(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=p.call.apply(p,[this].concat(n))).state={productId:void 0,status:void 0,query:{},loading:!1},e.handleClick=function(t){e.props.history.push("./".concat(t))},e.column=[{title:"产品名称",dataIndex:"productName",key:"productName",width:"20%",render:function(e){return a.a.createElement("span",{title:e},e)}},{title:"产品ID",dataIndex:"productId",key:"productId",width:"10%"},{title:"所属分类",dataIndex:"allCategoryName",key:"allCategoryName",width:"20%",render:function(e){return a.a.createElement("span",{title:e},e)}},{title:"状态",dataIndex:"mode",key:"mode",width:"102px",render:function(e){return a.a.createElement("span",null,D[e]||"")}},{title:"创建账号",dataIndex:"email",key:"email",width:"20%",render:function(e){return a.a.createElement("span",{title:e},e)}},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"17%",render:function(e){var t=d.b.utc2beijing(e,"yyyy-MM-dd hh:mm:ss");return a.a.createElement("span",{title:t},t)}},{title:"操作",dataIndex:"productId",key:"operation",width:66,render:function(t){return a.a.createElement(u.a,{placement:"top",title:"查看"},a.a.createElement(s.a,{icon:"info",shape:"circle",size:"small",onClick:e.handleClick.bind(w(e),t)}))}}],e}return n=m,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=t.productList,r=t.pager,o=t.loading;return a.a.createElement("div",{className:"product"},a.a.createElement(b.a,{title:"产品"},a.a.createElement(f.a,{layout:"inline"},a.a.createElement(I,{label:"产品ID"},e("productId",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(a.a.createElement(l.a,{placeholder:"请输入产品ID",maxLength:9,style:{width:240},onPressEnter:this.props.onFilter}))),a.a.createElement(I,{label:"状态"},e("mode")(a.a.createElement(i.a,{style:{width:160},placeholder:"请选择状态"},Object.keys(D).map((function(e,t){return a.a.createElement(i.a.Option,{key:t,value:+e},D[e])}))))),a.a.createElement(I,null,a.a.createElement(s.a,{type:"primary",onClick:this.props.onFilter},"查询")),a.a.createElement(I,null,a.a.createElement(s.a,{onClick:this.props.onReset},"重置")))),a.a.createElement(c.a,null,a.a.createElement(y.a,{rowKey:"productId",columns:this.column,dataSource:n,pager:r,onPageChange:this.props.onChange,loading:o})))}}])&&E(n.prototype,r),o&&E(n,o),m}(r.Component),C=Object(p.connect)((function(e){return{productList:e.getIn(["product","productList"]).toJS(),pager:e.getIn(["product","pager"]).toJS(),loading:e.getIn(["product","loading"])}}),(function(e){return{getList:function(t){return e(m.a.getProductList(t))}}}))(f.a.create()(Object(h.a)(k))),_=n(813),R=n(1363);n(1390),t.default=function(e){var t=e.match;return a.a.createElement(o.Switch,null,a.a.createElement(o.Route,{path:"".concat(t.url,"/list"),component:C}),a.a.createElement(o.Route,{path:"".concat(t.url,"/:productId"),component:Object(R.a)(_.a)}),a.a.createElement(o.Redirect,{from:"".concat(t.url,"/"),to:"".concat(t.url,"/list")}))}}}]);