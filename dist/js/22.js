(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1379:function(e,t,n){},1513:function(e,t,n){"use strict";n.r(t);n(121);var a=n(58),r=(n(94),n(38)),c=(n(281),n(155)),l=(n(72),n(21)),i=(n(243),n(134)),o=(n(210),n(90)),u=(n(141),n(33)),d=(n(98),n(244),n(23),n(62),n(438),n(245),n(168),n(36),n(26),n(27),n(28),n(19),n(35),n(0)),m=n.n(d),s=n(4),f=function(){return s.c.request({url:"/manage-open/manage/commodity/getCommodityList",method:"get",headers:{}})};n(31),n(1379);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=u.a.Item;t.default=u.a.create()(function(e){var t=e.form,n=(e.match,e.history),s=p(Object(d.useState)({pageIndex:1,pageRows:10}),2),E=s[0],g=(s[1],t.getFieldDecorator),k=(t.validateFields,t.getFieldsValue,p(Object(d.useState)(0),2)),v=(k[0],k[1],p(Object(d.useState)([]),2)),h=v[0],x=v[1],I=p(Object(d.useState)(!1),2),b=I[0],w=I[1],S=p(Object(d.useState)(!1),2),O=(S[0],S[1],p(Object(d.useState)({}),2)),C=O[0],j=O[1],N=p(Object(d.useState)(!1),2),F=N[0],P=N[1],R=p(Object(d.useState)(!1),2);R[0],R[1],Object(d.useEffect)(function(){D()},[E.pageRows,E.pageIndex]);var D=function(){P(!0),f().then(function(e){0==e.data.code&&x(e.data.data)}).finally(function(){P(!1)})},T=function(e,t){var n=1==t?"是否上架商品":"是否下架商品";o.a.confirm({title:"确认",okText:"确定",cancelText:"取消",content:n,onOk:function(){relData({id:e,status:t}).then(function(e){var n=1==t?"上架成功":"下架成功";0==e.data.code&&(i.a.success(n),D())})}})},V=[{title:"商品名称",dataIndex:"commodityName",key:"commodityName",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"品牌",dataIndex:"commodityBrand",key:"commodityBrand",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"商品型号",dataIndex:"commodityModel",key:"commodityModel",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"缩略图",dataIndex:"commodityPicture",key:"commodityPicture",render:function(e){if(e){var t=e.split(",");return m.a.createElement("img",{src:t,style:{width:"30px"}})}return""}},{title:"所属类别",dataIndex:"commodityClassifyName",key:"commodityClassifyName",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"平台产品ID",dataIndex:"productId",key:"productId",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"产品价格",dataIndex:"commodityPrice",key:"commodityPrice",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"库存",dataIndex:"currentStock",key:"currentStock",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"已售出",dataIndex:"",key:""},{title:"状态",dataIndex:"status",key:"status",render:function(e){return m.a.createElement("span",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["下架","在售","售罄"];return t[e]}(e))}},{title:"操作",key:"action",width:300,render:function(e,t){return m.a.createElement("span",null,m.a.createElement("a",null,"查看"),m.a.createElement("a",null,"预览"),m.a.createElement("a",{onClick:function(){T(t,2)}},"下架商品"),m.a.createElement("a",{onClick:function(){A(t)}},"补充库存"),m.a.createElement("a",{onClick:function(){T(t,1)}},"上架商品"))}}],A=function(e){j(e),w(!0)};return m.a.createElement("div",{className:"mall-product-page"},m.a.createElement(r.a,null,m.a.createElement("div",{className:"mall-product-top"},m.a.createElement(l.a,{type:"primary",onClick:function(){n.push("/mall/productInfo")}},"新增商品")),m.a.createElement(c.a,{rowKey:"id",columns:V,dataSource:h,loading:F,pagination:!1})),b&&m.a.createElement(o.a,{title:"库存信息",visible:b,onOk:function(){},onCancel:function(){w(!1)}},m.a.createElement(u.a,{labelCol:{span:6},wrapperCol:{span:14}},m.a.createElement(y,{label:"产品名称"},m.a.createElement("div",null,m.a.createElement("span",{style:{marginRight:"30px"}},C.commodityName),m.a.createElement("span",{style:{marginRight:"10px"}},"现有库存"),m.a.createElement("span",null,C.currentStock))),m.a.createElement(y,{label:"本次补充"},g("classifyValue",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(m.a.createElement(a.a,null))))))})}}]);