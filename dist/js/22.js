(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1446:function(e,t,n){},1580:function(e,t,n){"use strict";n.r(t);n(18),n(36),n(37),n(26),n(28),n(29),n(198),n(220),n(256),n(128);var a=n(60),r=(n(100),n(40)),c=(n(300),n(156)),l=(n(74),n(21)),o=(n(257),n(137)),i=(n(221),n(91)),u=(n(144),n(34)),d=(n(99),n(258),n(22),n(65),n(470),n(259),n(170),n(0)),m=n.n(d),s=n(3);n(32),n(1446);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=u.a.Item;t.default=u.a.create()((function(e){var t=e.form,n=(e.match,e.history),y=f(Object(d.useState)({pageIndex:1,pageRows:10}),2),E=y[0],g=(y[1],t.getFieldDecorator),b=(t.validateFields,t.getFieldsValue,f(Object(d.useState)(0),2)),k=(b[0],b[1],f(Object(d.useState)([]),2)),v=k[0],h=k[1],I=f(Object(d.useState)(!1),2),x=I[0],S=I[1],w=f(Object(d.useState)(!1),2),O=(w[0],w[1],f(Object(d.useState)({}),2)),j=O[0],C=O[1],N=f(Object(d.useState)(!1),2),A=N[0],F=N[1],P=f(Object(d.useState)(!1),2),R=(P[0],P[1],{labelCol:{span:6},wrapperCol:{span:14}});Object(d.useEffect)((function(){D()}),[E.pageRows,E.pageIndex]);var D=function(){F(!0),s.c.request({url:"/manage-open/manage/commodity/getCommodityList",method:"get",headers:{}}).then((function(e){0==e.data.code&&h(e.data.data)})).finally((function(){F(!1)}))},M=function(e,t){var n=1==t?"是否上架商品":"是否下架商品";i.a.confirm({title:"确认",okText:"确定",cancelText:"取消",content:n,onOk:function(){relData({id:e,status:t}).then((function(e){var n=1==t?"上架成功":"下架成功";0==e.data.code&&(o.a.success(n),D())}))}})},T=[{title:"商品名称",dataIndex:"commodityName",key:"commodityName",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"品牌",dataIndex:"commodityBrand",key:"commodityBrand",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"商品型号",dataIndex:"commodityModel",key:"commodityModel",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"缩略图",dataIndex:"commodityPicture",key:"commodityPicture",render:function(e){if(e){var t=e.split(",");return m.a.createElement("img",{src:t,style:{width:"30px"}})}return""}},{title:"所属类别",dataIndex:"commodityClassifyName",key:"commodityClassifyName",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"平台产品ID",dataIndex:"productId",key:"productId",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"产品价格",dataIndex:"commodityPrice",key:"commodityPrice",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"库存",dataIndex:"currentStock",key:"currentStock",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"已售出",dataIndex:"",key:""},{title:"状态",dataIndex:"status",key:"status",render:function(e){return m.a.createElement("span",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["下架","在售","售罄"];return t[e]}(e))}},{title:"操作",key:"action",width:300,render:function(e,t){return m.a.createElement("span",null,m.a.createElement("a",null,"查看"),m.a.createElement("a",null,"预览"),m.a.createElement("a",{onClick:function(){M(t,2)}},"下架商品"),m.a.createElement("a",{onClick:function(){V(t)}},"补充库存"),m.a.createElement("a",{onClick:function(){M(t,1)}},"上架商品"))}}],V=function(e){C(e),S(!0)};return m.a.createElement("div",{className:"mall-product-page"},m.a.createElement(r.a,null,m.a.createElement("div",{className:"mall-product-top"},m.a.createElement(l.a,{type:"primary",onClick:function(){n.push("/mall/productInfo")}},"新增商品")),m.a.createElement(c.a,{rowKey:"id",columns:T,dataSource:v,loading:A,pagination:!1})),x&&m.a.createElement(i.a,{title:"库存信息",visible:x,onOk:function(){},onCancel:function(){S(!1)}},m.a.createElement(u.a,R,m.a.createElement(p,{label:"产品名称"},m.a.createElement("div",null,m.a.createElement("span",{style:{marginRight:"30px"}},j.commodityName),m.a.createElement("span",{style:{marginRight:"10px"}},"现有库存"),m.a.createElement("span",null,j.currentStock))),m.a.createElement(p,{label:"本次补充"},g("classifyValue",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(m.a.createElement(a.a,null))))))}))}}]);