(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1422:function(e,t,a){"use strict";a(48),a(49),a(19),a(37),a(22),a(38),a(28),a(31),a(30);var n=a(0),r=a.n(n);a(1423);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=s(e);if(t){var r=s(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d(this,a)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,a,n,i=u(d);function d(){return o(this,d),i.apply(this,arguments)}return t=d,(a=[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title;return r.a.createElement("div",{className:"title-tab"},r.a.createElement("div",{className:"title-tab-option"},r.a.createElement("span",{className:"title-tab-title"},a)),r.a.createElement("div",{className:"title-tab-option"},t))}}])&&l(t.prototype,a),n&&l(t,n),d}(r.a.Component);m.Option=function(e){var t=e.children,a=e.label,n=e.align,i=void 0===n?"left":n;return r.a.createElement("div",{className:"".concat("left"===i?"title-tab-item":"title-tab-item-right")},r.a.createElement("span",{className:a?"title-table-label":"title-table-label-non"},a?a+":":""),t)},t.a=m},1423:function(e,t,a){},1496:function(e,t,a){},1497:function(e,t,a){},1520:function(e,t,a){"use strict";a.r(t);a(97),a(257);var n=a(0),r=a.n(n),i=a(58),o=(a(19),a(37),a(38),a(28),a(31),a(30),a(198),a(220),a(256),a(35),a(34),a(43),a(33),a(44),a(98),a(39)),l=(a(154),a(40)),c=(a(136),a(69)),u=(a(298),a(155)),d=(a(221),a(83)),s=(a(75),a(20)),m=(a(255),a(127)),p=(a(197),a(76)),f=a(1388),y=a.n(f),g=(a(65),a(22),a(66),a(468),a(168),a(170),a(1422)),b=a(106),h=a(3),v=function(e){return h.c.request({url:"/expert/scene/condition/option/getPage",params:e,method:"get"})},O=function(e){return h.c.request({url:"/expert/scene/condition/getPageList",params:e,method:"get"})},E=function(e){return h.c.request({})},I=function(e){return h.c.request({})};a(1496);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q=c.a.TextArea;var x=l.a.create()((function(e){var t=e.form,a=e.visible,i=e.handleOk,o=e.handleCancel,d=e.conditionTypeDetailData,s=void 0===d?{}:d,p=t.getFieldDecorator,f=j(Object(n.useState)(!1),2),y=f[0],g=f[1];return r.a.createElement(m.a,{title:"添加/编辑条件类型",width:800,visible:a,onOk:function(){t.validateFields((function(e,t){if(!e){g(!0);var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){P(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);Object.keys(s).length>0&&(a.conditionOptionId=s.conditionOptionId),function(e){return h.c.request({url:"/expert/scene/condition/option/addOrUpdate",data:e,method:"post",needFormData:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}(a).then((function(e){0===e.data.code&&(u.a.success("提交成功"),i())})).finally((function(){return g(!1)}))}}))},onCancel:o,maskClosable:!1,confirmLoading:y,wrapClassName:"module-add-scheme"},r.a.createElement(l.a,{labelCol:{span:4},wrapperCol:{span:18},autoComplete:"off"},r.a.createElement(l.a.Item,{label:"条件类型名称"},p("conditionOptionName",{initialValue:s.conditionOptionName,rules:[{required:!0,message:"请输入条件类型名称",whitespace:!0}]})(r.a.createElement(c.a,{maxLength:20,placeholder:"请输入条件类型名称"}))),r.a.createElement(l.a.Item,{label:"备注"},p("comments",{initialValue:s.comments,rules:[{required:!0,message:"请输入备注",whitespace:!0}]})(r.a.createElement(q,{maxLength:100,autoSize:{minRows:5,maxRows:5}})))))})),S=(a(1391),a(1394)),N=(a(169),a(7));a(117),a(1497);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var L=p.a.Option,F=[];var R=l.a.create()((function(e){var t=e.form,a=e.visible,i=e.handleOk,o=e.handleCancel,d=e.conditionDicDetailData,f=void 0===d?{}:d,g=e.dicConditionType,b=void 0===g?[]:g,v=e.unitList,O=void 0===v?[]:v,E=t.getFieldDecorator,I=t.getFieldValue,w=D(Object(n.useState)(!1),2),P=w[0],j=w[1],k=D(Object(n.useState)(""),2),q=k[0],x=k[1];Object(n.useEffect)((function(){Object.keys(f).length&&x(f.paramStyleId+"")}),[Object.keys(f).length]),Object.keys(f).length&&"2"===q&&(F=-1!==f.queryParams[0].queryParamName.indexOf("[")?[]:y()(f.queryParams)),E("queryParams",{initialValue:F});var V=I("queryParams").map((function(e,a){return r.a.createElement("div",{className:"inline-form-item2",key:a},r.a.createElement(l.a.Item,{label:"名称",labelCol:{span:6}},E("configList[".concat(a,"].queryParamName"),{initialValue:e.queryParamName,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入名称"}]})(r.a.createElement(c.a,{placeholder:"请输入名称"}))),Object.keys(f).length&&r.a.createElement(l.a.Item,{label:"",style:{display:"none"}},E("configList[".concat(a,"].queryParamId"),{initialValue:e.queryParamId})(r.a.createElement(c.a,{style:{display:"none"}}))),"    ",r.a.createElement(l.a.Item,{label:"数值",labelCol:{span:6}},E("configList[".concat(a,"].queryParamValue"),{initialValue:e.queryParamValue,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入数值"}]})(r.a.createElement(c.a,{placeholder:"请输入数值"}))),r.a.createElement("div",{className:"delete-btn"},"  ",r.a.createElement(N.a,{key:a,type:"minus-circle-o",onClick:function(){return function(e){var a=I("queryParams"),n=I("configList");t.setFieldsValue({queryParams:a.filter((function(t,a){return a!==e})),configList:n.filter((function(t,a){return a!==e}))})}(a)}}),"  (*非负整数)"))}));return r.a.createElement(m.a,{title:"添加/编辑条件字典",width:800,visible:a,onOk:function(){t.validateFields((function(e,t){if(!e){j(!0),console.log("values",t,A(q));var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);"1"===q?(a.queryParams=[{queryParamName:t.rangArr1,queryParamValue:t.rangArr2}],delete a.rangArr1,delete a.rangArr2,Object.keys(f).length&&(a.queryParams[0].queryParamId=f.queryParams[0].queryParamId,a.statusQueryId=f.statusQueryId,a.conditionId=f.conditionId)):"2"===q&&(a.queryParams=y()(t.configList),delete a.configList,Object.keys(f).length>0&&(a.statusQueryId=f.statusQueryId,a.conditionId=f.conditionId,a.queryParams=a.queryParams.map((function(e){var t={};return e.queryParamId&&(t.queryParamId=e.queryParamId),t.queryParamName=e.queryParamName,t.queryParamValue=e.queryParamValue,t})))),console.log("add-data",a),function(e){return h.c.request({url:"/expert/scene/condition/addOrUpdate",data:e,method:"post",headers:{"Content-Type":"application/json"}})}(a).then((function(e){0===e.data.code&&(u.a.success("提交成功"),i())})).finally((function(){return j(!1)}))}}))},onCancel:o,maskClosable:!1,confirmLoading:P,wrapClassName:"condition-dic-modal"},r.a.createElement(l.a,{labelCol:{span:4},wrapperCol:{span:18},autoComplete:"off"},r.a.createElement(l.a.Item,{label:"条件字典名称"},E("conditionName",{initialValue:f.conditionName,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请输入条件字典名称",whitespace:!0}]})(r.a.createElement(c.a,{maxLength:20,placeholder:"请输入条件字典名称"}))),r.a.createElement(l.a.Item,{label:"条件类型"},E("conditionOptionId",{initialValue:f.conditionOptionId?f.conditionOptionId+"":"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请选择条件类型",whitespace:!0}]})(r.a.createElement(p.a,{placeholder:"请选择条件类型"},b&&b.map((function(e){return r.a.createElement(L,{key:e.conditionOptionId,value:e.conditionOptionId+""},e.conditionOptionName)}))))),r.a.createElement(l.a.Item,{label:"变化频率"},E("frequency",{initialValue:f.frequency||0===f.frequency?f.frequency+"":"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请输入变化频率",whitespace:!0}]})(r.a.createElement(S.a,{min:0,placeholder:"请输入变化频率",style:{width:448}})),r.a.createElement("span",{className:"ant-form-text"},"小时(*非负整数)")),r.a.createElement(l.a.Item,{label:"参数单位"},E("unitId",{initialValue:f.unitId?f.unitId+"":"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请选择参数单位",whitespace:!0}]})(r.a.createElement(p.a,{placeholder:"请选择参数单位"},O&&O.map((function(e){return r.a.createElement(L,{key:e.unitId,value:e.unitId+""},e.unitName)}))))),r.a.createElement(l.a.Item,{label:"条件字典key"},E("dataKey",{initialValue:f.dataKey,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请输入条件字典key",whitespace:!0}]})(r.a.createElement(c.a,{maxLength:20,placeholder:"请输入条件字典key"}))),r.a.createElement(l.a.Item,{label:"类型"},E("paramStyleId",{initialValue:f.paramStyleId?f.paramStyleId+"":"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请选择类型",whitespace:!0}]})(r.a.createElement(p.a,{placeholder:"请选择类型",onChange:function(e){console.log("change"),x(e)}},r.a.createElement(L,{value:"1"},"范围"),r.a.createElement(L,{value:"2"},"枚举")))),"1"===q&&r.a.createElement("div",{className:"rang-style"},r.a.createElement(l.a.Item,{label:""},E("rangArr1",{initialValue:f.queryParams?Array.isArray(JSON.parse(f.queryParams[0].queryParamName))?JSON.parse(f.queryParams[0].queryParamName)[0]+"":f.queryParams[0].queryParamName:"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入数值"}]})(r.a.createElement(c.a,{style:{width:90,marginRight:10}}))),r.a.createElement("div",{className:"short-line"},"-"),r.a.createElement(l.a.Item,{label:""},E("rangArr2",{initialValue:f.queryParams?Array.isArray(JSON.parse(f.queryParams[0].queryParamName))?JSON.parse(f.queryParams[0].queryParamName)[1]+"":f.queryParams[0].queryParamName:"",validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入数值"}]})(r.a.createElement(c.a,{style:{width:90,marginRight:10}}))),r.a.createElement("div",{className:"tip"},"(*填写整数且后者大于前者)")),"2"===q&&r.a.createElement("div",null,r.a.createElement(l.a.Item,{label:"设置参数"},r.a.createElement(s.a,{type:"dashed",onClick:function(){return e=I("queryParams").concat({}),void t.setFieldsValue({queryParams:e});var e},style:{width:"100%"}},r.a.createElement(N.a,{type:"plus"})," 新  增")),V)))}));function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Q=p.a.Option,U=m.a.confirm,K=[{title:"编辑",icon:"edit",status:0,key:1,type:"edit"},{title:"删除",icon:"delete",status:0,key:2,type:"delete"}],$=["场景产品列表","条件类型列表","条件字典列表","AI能力列表"];var G=l.a.create()((function(e){var t=e.form,a=t.getFieldDecorator,i=(t.getFieldsValue,J(Object(n.useState)({pageIndex:1,pageRows:10,paged:!0}),2)),m=i[0],f=i[1],w=J(Object(n.useState)(0),2),P=w[0],j=w[1],k=J(Object(n.useState)([{}]),2),q=k[0],S=k[1],N=J(Object(n.useState)(!1),2),C=N[0],T=N[1],A=J(Object(n.useState)("1"),2),D=A[0],V=A[1],L=J(Object(n.useState)(!1),2),F=L[0],B=L[1],z=J(Object(n.useState)({}),2),M=z[0],G=z[1],H=J(Object(n.useState)(!1),2),W=H[0],X=H[1],Y=J(Object(n.useState)({}),2),Z=Y[0],ee=Y[1],te=J(Object(n.useState)([]),2),ae=te[0],ne=te[1],re=J(Object(n.useState)([]),2),ie=re[0],oe=re[1],le={1:[{title:"产品名称",dataIndex:"",key:""},{title:"产品ID",dataIndex:"",key:""},{title:"大类",dataIndex:"",key:""},{title:"小类",dataIndex:"",key:""},{title:"状态查询",dataIndex:"",key:""},{title:"功能控制",dataIndex:"",key:""},{title:"输入输出",dataIndex:"",key:""},{title:"编辑时间",dataIndex:"",key:""},{title:"操作",dataIndex:"operation",key:"operation",width:"100px",render:function(e,t){return r.a.createElement("div",null,K.map((function(e,a){return r.a.createElement(d.a,{key:a,placement:"top",title:e.title},r.a.createElement(s.a,{style:{marginLeft:1===a?"10px":""},shape:"circle",size:"small",icon:e.icon,key:t.key}))})))}}],2:[{title:"条件类型名称",dataIndex:"conditionOptionName",key:"conditionOptionName"},{title:"备注",dataIndex:"comments",key:"comments"},{title:"编辑时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"operation",key:"operation",width:"10%",render:function(e,t){return r.a.createElement("div",null,K.map((function(e,a){return r.a.createElement(d.a,{key:a,placement:"top",title:e.title},r.a.createElement(s.a,{style:{marginLeft:1===a?"10px":""},shape:"circle",size:"small",icon:e.icon,key:t.conditionOptionId,onClick:function(){return ce(e,t)}}))})))}}],3:[{title:"条件字典名称",dataIndex:"conditionName",key:"conditionName"},{title:"条件类型",dataIndex:"conditionOptionName",key:"conditionOptionName"},{title:"类型",dataIndex:"paramStyleName",key:"paramStyleName"},{title:"编辑时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"operation",key:"operation",width:"10%",render:function(e,t){return r.a.createElement("div",null,K.map((function(e,a){return r.a.createElement(d.a,{key:a,placement:"top",title:e.title},r.a.createElement(s.a,{style:{marginLeft:1===a?"10px":""},shape:"circle",size:"small",icon:e.icon,key:t.conditionId,onClick:function(){return ce(e,t)}}))})))}}],4:[{title:"能力名称",dataIndex:"",key:""},{title:"接口地址",dataIndex:"",key:""},{title:"输入",dataIndex:"",key:""},{title:"输出",dataIndex:"",key:""},{title:"描述",dataIndex:"",key:""},{title:"编辑时间",dataIndex:"",key:""},{title:"操作",dataIndex:"operation",key:"operation",width:"10%",render:function(e,t){return r.a.createElement("div",null,K.map((function(e,a){return r.a.createElement(d.a,{key:a,placement:"top",title:e.title},r.a.createElement(s.a,{style:{marginLeft:1===a?"10px":""},shape:"circle",size:"small",icon:e.icon,key:t.key}))})))}}]},ce=function(e,t){"delete"===e.type?U({content:"是否确定删除本条数据？",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){ue(t)},onCancel:function(){}}):"edit"===e.type&&de(t)},ue=function(e){var t;"2"===D?(t={conditionOptionId:e.conditionOptionId},h.c.request({url:"/expert/scene/condition/option/delete",params:t,method:"get"})).then((function(e){0===e.data.code&&(u.a.success("删除成功"),se())})):"3"===D&&function(e){return h.c.request({url:"/expert/scene/condition/delete",params:e,method:"get"})}({conditionId:e.conditionId}).then((function(e){0===e.data.code&&(u.a.success("删除成功"),se())}))},de=function(e){var t;"2"===D?(B(!0),G({}),(t={conditionOptionId:e.conditionOptionId},h.c.request({url:"/expert/scene/condition/option/getOneOption",params:t,method:"get"})).then((function(e){0===e.data.code&&G(e.data.data)}))):"3"===D&&(X(!0),ee({}),function(e){return h.c.request({url:"/expert/scene/condition/getOneCondition",params:e,method:"get"})}({conditionId:e.conditionId}).then((function(e){0===e.data.code&&ee(e.data.data)})))},se=function(){var e={1:E,2:v,3:O,4:I},a=_(_({},t.getFieldsValue()),m);T(!0),e[D](a).then((function(e){0===e.data.code&&(S(e.data.data.list),j(e.data.data.pager.totalRows))})).finally((function(){T(!1)}))};Object(n.useEffect)((function(){se()}),[m.pageRows,m.pageIndex,D]);var me=function(){var e;(e={pageIndex:1,pageRows:999999},h.c.request({url:"/expert/scene/condition/option/getList",params:e,method:"get"})).then((function(e){0===e.data.code&&ne(e.data.data)}))},pe=function(){var e;(e={paged:!1},h.c.request({url:"/expert/deviceType/unit/list",params:e,method:"get"})).then((function(e){0===e.data.code&&oe(e.data.data)}))};Object(n.useEffect)((function(){me(),pe()}),[]);var fe=function(){1===m.pageIndex?se():f((function(e){var t=y()(e);return Object.assign(t,{pageIndex:1,pageRows:10})}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"scene-lib-page"},r.a.createElement(g.a,{title:"场景库管理",className:"title-box"},r.a.createElement("div",{className:"select-box"},r.a.createElement(p.a,{defaultValue:"1",style:{width:150},onChange:function(e){return V(e)}},$.map((function(e,t){return r.a.createElement(Q,{key:e,value:t+1+""},e)})))),r.a.createElement(l.a,{layout:"inline",className:"scene-form"},r.a.createElement("div",null,"1"===D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a.Item,{label:"产品名称"},a("productName",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(r.a.createElement(c.a,{placeholder:"请输入产品名称",style:{width:240}}))),r.a.createElement(l.a.Item,{label:"产品ID"},a("productId",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(r.a.createElement(c.a,{placeholder:"请输入产品ID",style:{width:240}})))),"2"===D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a.Item,{label:"条件类型名称"},a("productName",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(r.a.createElement(c.a,{placeholder:"请输入条件类型名称",style:{width:240}})))),"3"===D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a.Item,{label:"条件字典名称"},a("conditionName",{})(r.a.createElement(c.a,{placeholder:"请输入条件字典名称",style:{width:240}}))),r.a.createElement(l.a.Item,{label:"条件类型"},a("conditionTypeId",{})(r.a.createElement(p.a,{placeholder:"请选择条件类型",style:{width:240}},ae&&ae.map((function(e){return r.a.createElement(Q,{key:e.conditionTypeId,value:e.conditionTypeId+""},e.conditionOptionName)})))))),"4"===D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a.Item,{label:"AI能力列表"},a("productName",{getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")}})(r.a.createElement(c.a,{placeholder:"请输入AI能力列表",style:{width:240}})))),r.a.createElement(l.a.Item,null,r.a.createElement(s.a,{type:"primary",onClick:function(){return fe()}},"查询")),r.a.createElement(l.a.Item,null,r.a.createElement(s.a,{type:"default",onClick:function(){return t.resetFields(),void fe()}},"重置"))),r.a.createElement("div",null,r.a.createElement(l.a.Item,null,r.a.createElement(s.a,{type:"primary",onClick:function(){({2:function(){B(!0),G({})},3:function(){X(!0),ee({})}})[D]()}},"新增"))))),r.a.createElement(o.a,{className:"ModuleManagerListTable",style:{marginTop:10}},r.a.createElement(b.a,{rowKey:{1:"",2:"conditionTypeId",3:"conditionId",4:""}[D],bordered:!0,columns:le[D],dataSource:q,loading:C,pagination:{defaultCurrent:1,current:m.pageIndex,onChange:function(e,t){f((function(a){var n=y()(a);return Object.assign(n,{pageIndex:t===m.pageRows?e:1,pageRows:t})}))},pageSize:m.pageRows,total:P,showQuickJumper:!0,pageSizeOptions:["10"],showTotal:function(){return r.a.createElement("span",null,"共 ",r.a.createElement("a",null,P)," 条")}}})),F&&r.a.createElement(x,{visible:F,conditionTypeDetailData:M,handleOk:function(){B(!1),se()},handleCancel:function(){return B(!1)}}),W&&r.a.createElement(R,{visible:W,dicConditionType:ae,unitList:ie,conditionDicDetailData:Z,handleOk:function(){X(!1),se()},handleCancel:function(){return X(!1)}})))}));t.default=function(e){var t=e.match;return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"".concat(t.url,"/list"),component:G}),r.a.createElement(i.a,{from:"".concat(t.url,"/"),to:"".concat(t.url,"/list")}))}}}]);