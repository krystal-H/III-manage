(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1451:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return u}));var n=a(3),r=function(e){return n.c.request({url:"/manage-open/manage/commodity/getModuleListByPage",data:e,method:"post",headers:{}})},c=function(e){return n.c.request({url:"/manage-open/module/getModulelistByHetModuleTypeName",data:e,method:"post",headers:{}})},i=function(e){return n.c.request({url:"/manage-open/manage/classify/getCommodityClassifyByGrade",data:e,method:"post",headers:{}})},o=function(e){return n.c.request({url:"/manage-open/manage/classify/getClassifyList",data:e,method:"post",headers:{}})},u=function(e){return n.c.request({url:"/manage-open/manage/commodity/publicCommodity",data:e,method:"post",headers:{}})}},1454:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));var n=a(3),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.c.request({url:"/manage-open/manage/classify/getClassifyList",data:e,method:"post",headers:{}})},c=function(e){return n.c.request({url:"/manage-open/manage/classify/removeClassify/"+e,method:"get",headers:{}})},i=function(e){return n.c.request({url:"/manage-open/manage/classify/addClassify",method:"post",data:e,headers:{}})}},1533:function(e,t,a){},1542:function(e,t,a){"use strict";a.r(t);a(18),a(35),a(36),a(26),a(27),a(28),a(113),a(122),a(133),a(41),a(43),a(44),a(103);var n=a(48),r=(a(104),a(46)),c=(a(308),a(160)),i=(a(69),a(19)),o=(a(223),a(123)),u=(a(200),a(85)),l=(a(173),a(72)),s=(a(157),a(37)),f=(a(132),a(23)),d=(a(39),a(22),a(65),a(389),a(32),a(142),a(58),a(78),a(159),a(0)),m=a.n(d),p=a(1454),y=a(1451),g=a(33);a(1533);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,o=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var E=f.a.Item,S=s.a.Option,k=l.a.TabPane;t.default=f.a.create()((function(e){var t=e.form,a=j(Object(d.useState)({pageIndex:1,pageRows:10}),2),h=a[0],v=a[1],w=t.getFieldDecorator,C=t.validateFields,I=j(Object(d.useState)(0),2),N=I[0],x=I[1],P=j(Object(d.useState)([]),2),q=P[0],R=P[1],T=j(Object(d.useState)(!1),2),V=T[0],J=T[1],A=j(Object(d.useState)("add"),2),D=A[0],L=A[1],M=j(Object(d.useState)({}),2),B=M[0],F=M[1],K=j(Object(d.useState)(!1),2),z=K[0],G=K[1],H=j(Object(d.useState)("0"),2),Q=H[0],U=H[1],$=j(Object(d.useState)([]),2),W=$[0],X=$[1];Object(d.useEffect)((function(){Object(y.c)({classifyLevel:1}).then((function(e){X(e.data.data)}))}),[]),Object(d.useEffect)((function(){Y()}),[h.pageRows,h.pageIndex,Q,W]);var Y=function(){G(!0);var e=[];if("0"==Q?e=W.filter((function(e){return"硬件产品"==e.classifyName})):"1"==Q&&(e=W.filter((function(e){return"通信模组"==e.classifyName}))),0!==e.length){var t=O({parentId:e[0].id},h);Object(p.c)(t).then((function(e){0==e.data.code&&(e.data.data?(e.data.data.list.forEach((function(e,t){e.key=t+1})),R(e.data.data.list),x(e.data.data.pager.totalRows)):(R([]),x(0)))})).finally((function(){G(!1)}))}},Z=[{title:"编号",dataIndex:"key",key:"key"},{title:"分类名称",dataIndex:"classifyName",key:"classifyName",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"排序值",dataIndex:"classifyValue",key:"classifyValue",render:function(e){return m.a.createElement("span",{title:e},e)}},{title:"编辑时间",dataIndex:"updateTime",key:"updateTime",render:function(e){return e&&g.b.utcToDev(e)}},{title:"操作",key:"action",width:200,render:function(e,t){return m.a.createElement("span",null,m.a.createElement("a",{style:{marginRight:"10px"},onClick:function(){_(t)}},"编辑"),m.a.createElement("a",{onClick:function(){!function(e){u.a.confirm({title:"确认",okText:"确定",cancelText:"取消",content:"是否删除此数据",onOk:function(){Object(p.b)(e.id).then((function(e){0==e.data.code&&(o.a.success("删除成功"),Y())}))}})}(t)}},"删除"))}}],_=function(e){L("edit"),F(e),J(!0)};return m.a.createElement("div",{className:"classify-page"},m.a.createElement(r.a,null,m.a.createElement("div",{className:"top-flex"},m.a.createElement(l.a,{activeKey:Q,onChange:function(e){return function(e){console.log(e),U(e),R([]),v({pageIndex:1,pageRows:10})}(e)}},W.length>0&&W.map((function(e,t){return m.a.createElement(k,{tab:"".concat(e.classifyName),key:t+""})}))),m.a.createElement("div",{className:"classify-top"},m.a.createElement(i.a,{type:"primary",onClick:function(){L("add"),J(!0)}},"新增分类"))),m.a.createElement(c.a,{rowKey:"id",columns:Z,dataSource:q,loading:z,bordered:!0,pagination:{defaultCurrent:1,current:h.pageIndex,onChange:function(e,t){t===h.pageRows?v((function(a){var n=JSON.parse(JSON.stringify(a));return Object.assign(n,{pageIndex:e,pageRows:t})})):v((function(e){var a=JSON.parse(JSON.stringify(e));return Object.assign(a,{pageIndex:1,pageRows:t})}))},pageSize:h.pageRows,total:N,showQuickJumper:!0,showTotal:function(){return m.a.createElement("span",null,"共 ",m.a.createElement("a",null,N)," 条")}}})),V&&m.a.createElement(u.a,{title:"add"===D?"新增分类":"编辑分类",visible:V,onOk:function(){C().then((function(e){var t=O({},e);t.classifyLevel=2,"edit"===D&&(t.id=B.id),Object(p.a)(t).then((function(e){0==e.data.code&&(o.a.success("新增成功"),Y(),J(!1))}))}))},onCancel:function(){return J(!1)}},m.a.createElement(f.a,b({},{labelCol:{span:6},wrapperCol:{span:14}},{autoComplete:"off"}),m.a.createElement(E,{label:"分类类别"},w("parentId",{initialValue:"add"===D?"":B.parentId+"",rules:[{required:!0,message:"请选择分类类别"}]})(m.a.createElement(s.a,{style:{width:275},disabled:"edit"===D},W.length>0&&W.map((function(e){return m.a.createElement(S,{key:e.id},"".concat(e.classifyName))}))))),m.a.createElement(E,{label:"分类名称"},w("classifyName",{initialValue:"add"===D?"":B.classifyName,rules:[{required:!0,message:"请输入分类名称"}]})(m.a.createElement(n.a,null))),m.a.createElement(E,{label:"排序值"},w("classifyValue",{initialValue:"add"===D?"":B.classifyValue,getValueFromEvent:function(e){return e.target.value.replace(/[^\d]/g,"")},rules:[{required:!0,message:"请输入排序值"}]})(m.a.createElement(n.a,null))))))}))}}]);